(function(u,s){if(typeof exports=="object"&&typeof module=="object")module.exports=s();else if(typeof define=="function"&&define.amd)define([],s);else{var l=s();for(var d in l)(typeof exports=="object"?exports:u)[d]=l[d]}})(globalThis,()=>(()=>{"use strict";var f={8490:(e=>{e.exports=window.wp.domReady})},u={};function s(e){var t=u[e];if(t!==void 0)return t.exports;var i=u[e]={exports:{}};return f[e](i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};s.r(l),s.d(l,{Carousel:()=>p});var d=s(8490),g=s.n(d);const c=window.wp.hooks;function v(e){if(e===void 0)throw new Error(`Pixel value ${e} is undefined`);if(!e.endsWith("px"))throw new Error(`Pixel value ${e} is not a pixel value`);if(e.includes(" "))throw new Error(`Pixel value ${e} contains multiple values`);return Number(e.replace("px",""))}function T(e){let t="";const i=document.createElement("div");return i.innerHTML=e,t=i.innerText,_(t)}function _(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|(?<!-)-+$/g,"")}function m(e,t=()=>!0){const i=e.parentElement;return i===null?null:t(i)?i:m(i,t)}function C(e){if(new RegExp("ms$","ig").test(e))return Number(e.substring(0,e.length-2));if(new RegExp("s$","ig").test(e))return Number(e.substring(0,e.length-1))*1e3;throw new Error("Time didn't end with ms or s so was not correctly parsed.")}function E(){if(typeof document>"u")return"unknown";const e=window.navigator.userAgent;let t="unknown";return e.search("Windows")!==-1?t="Windows":e.search("Mac")!==-1?t="MacOS":e.search("X11")!==-1&&e.search("Linux")===-1?t="UNIX":e.search("Linux")!==-1&&e.search("X11")!==-1&&(t="Linux"),t}function b(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Object.entries(e[i]).every(([n,r])=>Array.isArray(r)?b(r,t[i]?.[n]):t[i]?.[n]===r))return!1;return!0}class p{carousel;carouselLiveRegion;carouselSlides;slideWidth;slideGap;slideCount;fullSlidesShownInViewport;currentSlide;loop;debounceResizeTimeout=void 0;constructor(t){this.carousel=t,this.loop=this.carousel.dataset.loop==="true",this.currentSlide=0;const i=t.querySelector("div[data-carousel-live-region]");if(!i)throw new Error("Carousels must have a live region for accessibility.");this.carouselLiveRegion=i;const o=t.querySelector("ul[data-carousel-slides]");if(!o)throw new Error("Carousels must have a slides element.");this.carouselSlides=o,this.carouselSlides.style.width=`${this.carouselSlides.clientWidth}px`;const{slideCount:n,slideWidth:r,slideGap:x,fullSlidesShownInViewport:y}=this.getSlideInfo();this.slideCount=n,this.slideGap=x,this.slideWidth=r,this.fullSlidesShownInViewport=y,(0,c.doAction)("launchpadBlocks.carousel.registerFunctionality",this),(0,c.addAction)("hookAdded","launchpadBlocks.carousel",(a,w,h,S)=>{a==="launchpadBlocks.carousel.registerFunctionality"&&h(this)}),window.addEventListener("resize",()=>{clearTimeout(this.debounceResizeTimeout),this.debounceResizeTimeout=setTimeout(()=>{this.carouselSlides.style.width="",this.carouselSlides.style.width=`${this.carouselSlides.clientWidth}px`;const{slideCount:a,slideWidth:w,slideGap:h,fullSlidesShownInViewport:S}=this.getSlideInfo();this.slideCount=a,this.slideGap=h,this.slideWidth=w,this.fullSlidesShownInViewport=S,this.goToSlide(this.currentSlide,!0,!0)},100)})}getSlideInfo(){const t=this.carouselSlides.querySelectorAll(":scope > *").length,i=this.carouselSlides.querySelector(":scope > *")?.clientWidth,o=window.getComputedStyle(this.carouselSlides).getPropertyValue("column-gap"),n=v(o.endsWith("px")?o:"0px");if(!i)throw new Error("Unable to get the slide width for the carousel.");const r=Math.floor(this.carouselSlides.clientWidth/i);return{slideCount:t,slideWidth:i,slideGap:n,fullSlidesShownInViewport:r}}goToSlide(t,i=!1,o=!1){if(this.currentSlide===t&&!o)return;if(t<0)throw new Error("The slide number must be more than zero.");if(t>this.slideCount)throw new Error("The slide number must less than the total number of slides.");const n=this.carouselSlides.scrollLeft,r=t*(this.slideWidth+this.slideGap);this.currentSlide=t,this.carouselSlides.scrollBy({left:r-n,behavior:i?"instant":"auto"}),this.carouselLiveRegion.textContent=`Slide ${this.currentSlide+1} of ${this.slideCount}`,(0,c.doAction)("launchpadBlocks.carousel.updateActiveSlide")}goToPreviousSlide(t=!1){let i=this.currentSlide-1;if(i<0){if(!this.loop)return;i=this.slideCount-(this.fullSlidesShownInViewport-1)-1}this.goToSlide(i,t)}goToNextSlide(t=!1){let i=this.currentSlide+1;if(i>=this.slideCount-(this.fullSlidesShownInViewport-1)){if(!this.loop)return;i=0}this.goToSlide(i,t)}}return g()(()=>{const e=document.querySelectorAll("[data-launchpad-carousel]");for(const t of e)t.parentElement?.dataset.lightbox!==""&&new p(t)}),l})());

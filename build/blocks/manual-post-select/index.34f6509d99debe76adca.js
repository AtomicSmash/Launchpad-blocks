(function(Pe,H){if(typeof exports=="object"&&typeof module=="object")module.exports=H();else if(typeof define=="function"&&define.amd)define([],H);else{var je=H();for(var d in je)(typeof exports=="object"?exports:Pe)[d]=je[d]}})(globalThis,()=>(()=>{var pt={5395:(d=>{d.exports={apiVersion:3,name:"launchpad-blocks/manual-post-select",title:"Manual post select",category:"theme",description:"A block to manually select and display a group of posts.",textdomain:"launchpad",keywords:[],editorScript:"file:./index.tsx",editorStyle:"file:./editor-style.scss",style:"file:./style.scss",render:"file:./render.php",attributes:{hasDismissedVariationsSelector:{type:"boolean",default:!1},namespace:{type:"string"},selectedPosts:{type:"array",default:[]},selectedPostTypesManualSelectSearch:{type:"array",default:["any"]},searchInputManualSelectSearch:{type:"string",default:""},taxonomyAndTermInfoManualSelectSearch:{type:"object",default:{relationship:"AND",taxonomies:{}}},orderManualSelectSearch:{type:"object",default:{by:"date",direction:"desc"}},selectedPostTypesAutoPostsQuery:{type:"array",default:["any"]},searchInputAutoPostsQuery:{type:"string",default:""},taxonomyAndTermInfoAutoPostsQuery:{type:"object",default:{relationship:"AND",taxonomies:{}}},orderAutoPostsQuery:{type:"object",default:{by:"date",direction:"desc"}},shouldFillRemainingSpots:{type:"boolean",default:!1},shouldInheritFromAutoPostsQuery:{type:"boolean",default:!0},postsToShow:{type:"integer",default:1},shouldExcludeCurrentPost:{type:"boolean",default:!0}},providesContext:{},usesContext:["postId"],supports:{align:!0,layout:{default:{type:"default"},allowSwitching:!0,allowEditing:!0,allowInheriting:!0,allowSizingOnChildren:!0,allowVerticalAlignment:!0,allowJustification:!0,allowOrientation:!0,allowCustomContentAndWideSize:!0},color:!0,spacing:{margin:!0,padding:!0,blockGap:!0},typography:{fontSize:!0,lineHeight:!0}},example:{viewportWidth:1200,attributes:{namespace:"preview",shouldFillRemainingSpots:!0,postsToShow:3,layout:{type:"grid",columnCount:3}},innerBlocks:[{name:"core/post-featured-image"},{name:"core/post-title"},{name:"core/post-excerpt"},{name:"core/read-more"}]}}})},Pe={};function H(d){var B=Pe[d];if(B!==void 0)return B.exports;var A=Pe[d]={exports:{}};return pt[d](A,A.exports,H),A.exports}H.n=d=>{var B=d&&d.__esModule?()=>d.default:()=>d;return H.d(B,{a:B}),B},(()=>{var d=Object.getPrototypeOf?A=>Object.getPrototypeOf(A):A=>A.__proto__,B;H.t=function(A,E){if(E&1&&(A=this(A)),E&8||typeof A=="object"&&A&&(E&4&&A.__esModule||E&16&&typeof A.then=="function"))return A;var ee=Object.create(null);H.r(ee);var Y={};B=B||[null,d({}),d([]),d(d)];for(var te=E&2&&A;(typeof te=="object"||typeof te=="function")&&!~B.indexOf(te);te=d(te))Object.getOwnPropertyNames(te).forEach(g=>Y[g]=()=>A[g]);return Y.default=()=>A,H.d(ee,Y),ee}})(),H.d=(d,B)=>{for(var A in B)H.o(B,A)&&!H.o(d,A)&&Object.defineProperty(d,A,{enumerable:!0,get:B[A]})},H.o=(d,B)=>Object.prototype.hasOwnProperty.call(d,B),H.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var je={};return(()=>{"use strict";const d=window.ReactJSXRuntime,B=window.wp.blocks,A=window.wp.blockEditor,E=window.wp.components,ee=window.wp.coreData,Y=window.wp.data,te=window.wp.i18n,g=window.React;var mt=H.t(g,2);function Gs(e){return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",...e,children:jsx("path",{d:"m24 30.8-12-12 2.15-2.15L24 26.5l9.85-9.85L36 18.8Z"})})}function Nn(e){return(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",xmlSpace:"preserve",...e,children:[(0,d.jsx)("circle",{cx:2.9,cy:6,r:.6}),(0,d.jsx)("circle",{cx:16.8,cy:14.6,r:.6}),(0,d.jsx)("path",{d:"m4.9 14.2-2.1.1 1.1-1.8c-.1-.2-.2-.4-.2-.7l-2.6 1.4c.1.2.1.3.2.5l1.9-1L2 14.8h2.4L2.6 16c.1.1.2.3.4.4l2.5-1.6-.6-.6zm11-10.6-.6 2.1 2.2-.2-1.7 1.2c.1.3.2.4.3.6l2.4-1.8c-.1-.2-.2-.4-.3-.5l-2.2.2.6-2.1c-.1-.1-.3-.3-.5-.4l-2.1 2c.1.1.3.2.4.3l1.5-1.4zm.7 5.1 2.8-.7c0-.2-.1-.4-.1-.5l-2.8.7c0 .2 0 .4.1.5zM4 2.7l.7 3.5c.1-.3.3-.4.4-.6L5 4.8c.4-.4.9-.8 1.4-1.1l.6.4.6-.3-3.1-1.5c-.2.1-.3.2-.5.4zm1.8.8c-.3.3-.6.5-1 .8l-.2-1.4 1.2.6zm2.8-2.4c.5-.1.9-.2 1.3-.2V.4C8.8.4 7.7.7 6.7 1l.1.4c.4-.1.8-.3 1.3-.3l.5 2.4c.2 0 .4-.1.6-.1l-.6-2.3zM14.3 15l.7 1c-.5.4-1 .7-1.5 1l-.6-1c-.2.1-.3.2-.5.2l1.5 2.5c.2-.1.3-.2.5-.3l-.7-1.1c.5-.3 1.1-.6 1.6-1l.7 1.1c.2-.1.3-.2.4-.4l-1.7-2.4c-.1.2-.2.3-.4.4zm4-5.2c-.9-.2-1.6.3-1.8 1.4-.2.9.1 1.6.8 1.8.1-.2.1-.4.2-.5-.4-.1-.7-.5-.6-1.2.1-.8.6-1 1.2-.9.6.1 1 .5.8 1.3-.1.6-.4.9-.8.9-.1.2-.1.4-.2.6.7.1 1.3-.4 1.5-1.4.3-1.2-.2-1.9-1.1-2zM11 17.9c-.4-.1-1.1-.1-1.4-.2-.3-.1-.4-.1-.4-.3 0-.2.3-.4.8-.4.6 0 .9.2 1 .6.2 0 .4-.1.6-.1-.1-.6-.6-.9-1.5-.9s-1.4.3-1.4.9c0 .4.2.6.7.7.4.1 1 .1 1.4.2.3.1.4.1.4.3 0 .3-.3.4-1 .4-.6 0-1-.2-1.1-.5-.2 0-.4 0-.6-.1 0 .8.7 1.1 1.7 1.1.9 0 1.6-.3 1.6-.9-.2-.5-.4-.7-.8-.8zm-8.9-7.5c.1-.4.2-1.1.3-1.4.1-.3.2-.4.4-.4s.3.3.2.8c0 .6-.2 1-.6 1v.6c.6 0 1-.5 1-1.5.1-.9-.1-1.4-.7-1.5-.4 0-.6.2-.7.6-.2.4-.2 1.1-.3 1.4-.1.3-.2.4-.4.4-.3 0-.4-.4-.3-1 0-.6.2-1.1.6-1.1 0-.2.1-.4.1-.6-.8 0-1.1.6-1.2 1.6-.1 1 .2 1.7.8 1.7.5.1.7-.2.8-.6zm12-7.6c.3-.8 0-1.6-1.1-1.9-1.1-.3-1.8 0-2.1.9-.3.9.1 1.6 1.2 1.9 1.1.4 1.8 0 2-.9zm-1.9.5c-.8-.3-.9-.8-.8-1.3.2-.6.6-.9 1.4-.6.8.3.9.8.8 1.3-.2.5-.6.8-1.4.6zM6.7 15.7 4 17.4c.1.1.3.2.4.3l.7-.4c.4.3 1 .6 1.5.8v.8c.2.1.4.1.6.2V16c-.1-.1-.1-.1-.3-.1-.1-.2-.1-.2-.2-.2zM5.5 17l1.1-.7v1.3c-.3-.2-.8-.4-1.1-.6z"})]})}const Dn=(0,g.lazy)(async()=>{const e=await import(`/wp-content/plugins/launchpad-blocks/build/assets-manifest.json?no_cache=${Date.now()}`,{with:{type:"json"}}).then(t=>{if(!t.default["icons/sprite.svg"]||typeof t.default["icons/sprite.svg"]!="string")throw new Error("Icon sprite missing from manifest.");return t.default}).catch(()=>({}));return{default:function(n){const{iconName:o,size:r,isEditorMode:s=!1,...i}=n;return(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...i,children:(0,d.jsx)("use",{href:`${s?`${window.location.protocol}//${window.location.host}`:""}/wp-content/plugins/launchpad-blocks/build/${e["icons/sprite.svg"]}#${o}`})})}}});function Oe(e){return(0,d.jsx)(g.Suspense,{fallback:null,children:(0,d.jsx)(Dn,{...e})})}function kn(){(0,B.registerBlockCollection)("launchpad-blocks",{title:"Launchpad blocks",icon:Nn})}function gt(e,t){if(e===void 0)return e;let n;if(t==="both")n=e;else if(t==="horizontal")n=e.left;else if(t==="vertical")n=e.top;else return;return n.startsWith("var:")?`var(--wp--${n.replace("var:","").split("|").join("--")})`:n}function Mn(e,t,n){const o=t.spacing?.blockGap;let r="none";if(o===!0)r="both";else if(Array.isArray(o)){const i=o.includes("horizontal"),a=o.includes("vertical");i&&a?r="both":i?r="horizontal":a&&(r="vertical")}const s={columnGap:r==="both"||r==="horizontal"?gt(n?.spacing?.blockGap,r):void 0,rowGap:r==="both"||r==="vertical"?gt(n?.spacing?.blockGap,r):void 0};if(e===void 0&&typeof t.layout=="object"&&t?.layout?.default&&(e=t.layout.default),!e)return{className:"",style:s};switch(e.type){case"grid":{let i="";return e.minimumColumnWidth?i=`repeat(auto-fill, minmax(min(${e.minimumColumnWidth}, 100%), 1fr))`:e.columnCount&&(i=`repeat(${e.columnCount}, minmax(0, 1fr))`),{className:`is-layout-${e.type}${e.columnCount?` columns-${e.columnCount}`:""}`,style:{gridTemplateColumns:i,...s}}}case"flex":return{className:`is-layout-${e.type} is-${e.orientation??"horizontal"}${e.justifyContent?` is-content-justification-${e.justifyContent}`:""}${e.flexWrap==="nowrap"?" is-nowrap":""}`,style:{flexDirection:e.orientation==="vertical"?"column":"row",alignItems:e.orientation==="vertical"?e.justifyContent==="left"||e.justifyContent===void 0?"flex-start":e.justifyContent==="right"?"flex-end":e.justifyContent:e.verticalAlignment==="top"?"flex-start":e.verticalAlignment==="bottom"?"flex-end":e.verticalAlignment,justifyContent:e.orientation==="vertical"?e.verticalAlignment==="top"?"flex-start":e.verticalAlignment==="bottom"?"flex-end":e.verticalAlignment??"center":e.justifyContent==="left"?"flex-start":e.justifyContent==="right"?"flex-end":e.justifyContent,flexWrap:e.flexWrap??"wrap",...s}};case"constrained":return{className:`is-layout-${e.type}${e.justifyContent?` is-content-justification-${e.justifyContent}`:""}`,style:{...s}};default:return{className:`is-layout-${e.type}`,style:{...s}}}}function In(e,t){return e.reduce((n,o)=>{if(o.name===t)n.push(o);else if(o.innerBlocks){const r=In(o.innerBlocks,t);r&&n.push(...r)}return n},[])}const pe=()=>{const e=(0,g.useMemo)(()=>({per_page:-1}),[]),t=(0,g.useMemo)(()=>({per_page:-1,orderby:"name",context:"edit"}),[]),n=(0,g.useMemo)(()=>({}),[]),{postTypes:o,taxonomies:r}=(0,Y.useSelect)(u=>{const{getEntityRecords:c}=u(ee.store),f=c("root","postType",e),p=c("root","taxonomy",t);if(!p)return{postTypes:f,taxonomies:p};for(const m of p)n[m.slug]=c("taxonomy",m.slug);return{postTypes:f,taxonomies:p}},[e,t,n]),s=["attachment"],i=[],a=o?.filter(({viewable:u,slug:c})=>u&&!s.includes(c));if(!a||a.length===0)return{postTypes:a,taxonomies:void 0};const l={};for(const u of a){const c=r?.filter(({types:f,slug:p})=>f.includes(u.slug)&&!i.includes(p));c&&(l[u.slug]=c.map(f=>{const p=n?.[f.slug]??null;return{...f,terms:p}}))}return{filteredPostTypes:a,mappedTaxonomies:l===void 0||Object.values(l).length===0?void 0:l}};function ht({list:e,containerClassName:t,renderItem:n}){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`.draggable-list {
	border-top: 1px solid #d7d7d7;
	display: flex;
	flex-direction: column;
}

.draggable-list-item {
	align-items: center;
	border-bottom: 1px solid #d7d7d7;
	color: #6a6a6a;
	display: flex;
	padding: 0.5rem 0;
	position: relative;
	user-select: none;
}

.draggable-list-item-content {
	align-items: center;
	background: #f5f5f6;
	border-radius: 3px;
	display: flex;
	flex: 1;
	padding: 0.5rem;
}

.draggable-list-item-text {
	color: #1e1e1e;
	flex: 1;
}

.draggable-list-item .menu-icon {
	flex: 0 0 2rem;
	font-size: 1.5rem;
	height: 2rem;
	line-height: 1;
	padding: 0.25rem;
	width: 2rem;
}

.draggable-list-item .drag-handle,
.draggable-list-item .remove-button {
	flex: 0 0 2rem;
	height: 2.5rem;
	line-height: 0;
	padding: 0.5rem;
}

.draggable-list-item .drag-handle {
	cursor: grab;
}

.draggable-list-item .drag-handle:hover {
	background: #fafafb;
}

.draggable-list-item .remove-button {
	background: none;
	border: none;
	color: inherit;
	cursor: pointer;
}

.draggable-list-item .remove-button:hover {
	color: #da2121;
}

.draggable-list-item .drag-handle svg {
	height: 1.5rem;
	object-fit: cover;
	width: 1rem;
}

.draggable-list-item .remove-button svg {
	height: 1rem;
	object-fit: cover;
	width: 1rem;
}

.draggable-list-item .drag-handle:active {
	cursor: grabbing;
}

.draggable-list-item.being-dragged {
	background: #eee;
	color: #3d3d3d;
	opacity: 0.5;
}

.drag-zone-top,
.drag-zone-bottom {
	display: none;
	height: 50%;
	position: absolute;
	width: 100%;
}

.drag-zone-top {
	top: 0;
}

.drag-zone-bottom {
	bottom: 0;
}

.is-dragging .drag-zone-top,
.is-dragging .drag-zone-bottom {
	display: block;
}

.draggable-list-item:first-child .drag-zone-top {
	height: 150%;
	top: -100%;
}

.draggable-list-item:last-child .drag-zone-bottom {
	bottom: -100%;
	height: 150%;
}

.custom-multiple-select-list-item .menu-icon {
	color: #707070;
}

.custom-multiple-select-list-item.is-selected .menu-icon {
	color: currentcolor;
}

.custom-multiple-select-list-item .chip,
.draggable-list-item .chip {
	background: #cdcdcd;
	display: inline-block;
	font-weight: 700;
	padding: 0.25rem;
}

.custom-multiple-select-list {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	max-height: 15rem;
	overflow-y: scroll;
}

.custom-multiple-select-list-item {
	align-items: center;
	background-color: #f5f5f6;
	border: 1px solid #d7d7d7;
	border-radius: 3px;
	box-shadow: 0 3px 4px rgb(0 0 0 / 7%);
	color: #1e1e1e;
	cursor: pointer;
	display: flex;
	font-size: 13px;
	gap: 0.5rem;
	line-height: 16px;
	margin-right: 0.25rem;
	padding: 0.5rem;
	width: calc(100% - 0.25rem);
}

.custom-multiple-select-list-item.is-selected {
	color: #337bb5;
}

.custom-multiple-select-list-item-label {
	flex: 1;
	text-align: left;
}`}}),(0,d.jsx)("section",{className:`custom-multiple-select-list${t!==void 0&&t!==""?` ${t}`:""}`,children:e.map(o=>n({listItem:o,buttonProps:{type:"button",className:`custom-multiple-select-list-item${o.isSelected?" is-selected":""}`}}))})]})}function Ln(e){return e.indexOf("data:image/svg+xml;")===0}function $n(e){return e.indexOf("https://")===0||e.indexOf("http://")===0}function Bn(e){return e.indexOf("dashicons-")===0}function Ae({iconString:e}){if(typeof e!="string")return null;if(e==="none"||e==="div")return(0,d.jsx)("div",{className:"menu-icon","aria-hidden":"true",children:(0,d.jsx)("br",{})});if(Ln(e))return(0,d.jsx)("div",{className:"menu-icon svg",style:{backgroundImage:`url('${e}')`},"aria-hidden":"true",children:(0,d.jsx)("br",{})});if($n(e))return(0,d.jsx)("img",{src:new URL(e).toString(),alt:""});if(Bn(e)){const t=e.replace("dashicons-","");return(0,d.jsx)(E.Dashicon,{icon:t,className:"menu-icon"})}throw new Error("The icon string provided is not any of the valid formats.")}const Fn={author:"Author Id",date:"Date",id:"Id",include:"Included posts by Id",modified:"Date Modified",parent:"Parent by Id",relevance:"Relevance",slug:"Post slug",include_slugs:"Included posts by slug",title:"Title"};function qs({colours:e,attributesDefinition:t,attributes:n,setAttributes:o}){return jsx(ToolsPanel,{label:__("Custom colours","launchpad"),resetAll:r=>{if(r)for(const s of r)s()},children:jsx("div",{className:"color-block-support-panel__inner-wrapper",style:{gridColumn:"1 / -1"},children:e.map(r=>jsx(Hn,{colour:r,attributesDefinition:t,attributes:n,setAttributes:o},r.attributeName))})})}function Hn({colour:e,attributesDefinition:t,attributes:n,setAttributes:o}){const[r,s,i,a,l]=useSettings("color.palette.custom","color.palette.theme","color.palette.default","color.defaultPalette","color.custom"),u=()=>t[e.attributeName]?.default!==n[e.attributeName],c=()=>{o({[e.attributeName]:t[e.attributeName]?.default??void 0})},f=useRef(null);return jsx(ToolsPanelItem,{className:"block-editor-tools-panel-color-gradient-settings__item",style:{marginBlockStart:"0"},resetAllFilter:c,hasValue:u,onDeselect:c,label:e.label,isShownByDefault:!0,children:jsx(Dropdown,{className:"block-editor-tools-panel-color-gradient-settings__dropdown",popoverProps:{placement:"left-start",offset:36,shift:!0},renderToggle:({isOpen:p,onToggle:m})=>jsx(Fragment,{children:jsx(Button,{ref:f,__next40pxDefaultSize:!0,onClick:m,"aria-expanded":p,className:`block-editor-panel-color-gradient-settings__dropdown${p?" is-open":""}`,children:jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"8px"},children:[jsx(ColorIndicator,{colorValue:n[e.attributeName]})," ",jsx("span",{children:e.label})]})})}),renderContent:()=>jsx(DropdownContentWrapper,{paddingSize:"none",children:jsx("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:jsx("div",{className:"block-editor-color-gradient-control__panel",children:jsx(ColorPalette,{colors:[...r&&r?.length>0?[{name:"User",colors:r}]:[],...s&&s?.length>0?[{name:"Theme",colors:s}]:[],...a&&i&&i.length>0?[{name:"Default",colors:i}]:[]],value:n[e.attributeName],onChange:p=>{o({[e.attributeName]:p})},disableCustomColors:!l})})})})})},e.attributeName)}function Xs({ratioValue:e,ratioOnChange:t,imageFitValue:n,imageFitOnChange:o}){const[r,s,i]=useSettings("dimensions.aspectRatios.default","dimensions.aspectRatios.theme","dimensions.defaultAspectRatios"),a=s?.map(({name:p,ratio:m})=>({label:p,value:m}))??[],l=r?.map(({name:p,ratio:m})=>({label:p,value:m}))??[],u=[{label:_x("Original","Aspect ratio option for dimensions control","launchpad-blocks"),value:"auto"},...i?l:[],...a||[],{label:_x("Custom","Aspect ratio option for dimensions control","launchpad-blocks"),value:"custom"}],[c,f]=useState(u.map(p=>p.value).includes(e)?e:"custom");return jsxs(Fragment,{children:[jsx(SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:__("Aspect ratio","launchpad-blocks"),options:u,value:c,onChange:p=>{f(p),p!=="custom"&&t(p)}}),c==="custom"?jsx(TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Custom aspect ratio","launchpad-blocks"),help:__("Please enter a custom aspect ratio in the format `width/height`."),onChange:t,value:e}):null,e!=="auto"&&o!==void 0?jsxs(ToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:"Image fit",help:__("If your image doesn't match the selected aspect ratio, should we make the image `cover` the whole area (cutting off parts on the edge) or should we `contain` it (show the whole image in its correct aspect ratio, within a box of the aspect ratio you selected).","launchpad-blocks"),onChange:p=>{typeof p=="string"&&["contain","cover"].includes(p)&&o(p)},value:n,children:[jsx(ToggleGroupControlOption,{label:"Cover",value:"cover"}),jsx(ToggleGroupControlOption,{label:"Contain",value:"contain"})]}):null]})}const zn=(e,t,n,o)=>{const{getBlocksByName:r,getBlockAttributes:s,getBlockParentsByBlockName:i}=select(blockEditorStore);return r(o).some(l=>{if(i(l,"core/template-part",!0).length)return!1;const{[n]:u}=s(l);return e!==l&&t===u})};function Qs(e,t,n,o,r){const{[t]:s}=e,i=useCallback(l=>zn(n,l,t,r),[n,t,r]);return useEffect(()=>{if(s===""){const l=n.slice(0,n.indexOf("-"));o({[t]:l})}if(i(s)){const l=n.slice(0,n.indexOf("-"));console.log(`Regenerated ${t} to make it unique. Old value: ${s}. New value: ${l}`),o({[t]:l})}},[s,n,o,i,t]),useMemo(()=>function({label:u,help:c,onValidChange:f,idAttribute:p}){const[m,h]=useState(p);return jsx(TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:u,help:typeof c=="function"?c(!i(m)):c,value:m,onChange:y=>{h(y),i(y)||f(y)}})},[i])}function Ks({levelOptions:e,selectedLevel:t,setSelectedHeadingLevel:n}){return jsx(ToolbarDropdownMenu,{label:__("Change title heading element","launchpad-blocks"),icon:xt(t),controls:e.map(o=>{{const r=o===t;return{icon:xt(o),title:Wn(o),isDisabled:r,onClick:()=>n(o)}}})})}function Wn(e){switch(e){case"h2":return __("Heading 2","launchpad-blocks");case"h3":return __("Heading 3","launchpad-blocks");case"h4":return __("Heading 4","launchpad-blocks");case"h5":return __("Heading 5","launchpad-blocks");case"h6":return __("Heading 6","launchpad-blocks");case"p":return __("Paragraph","launchpad-blocks")}}function xt(e){switch(e){case"h2":return headingLevel2;case"h3":return headingLevel3;case"h4":return headingLevel4;case"h5":return headingLevel5;case"h6":return headingLevel6;case"p":return paragraph}}function Vn(e){const{hasChildren:t}=(0,Y.useSelect)(n=>{const{getBlocks:o}=n(A.store);return{hasChildren:o(e).length>0}},[e]);return t}function Un({clientId:e,blockInfo:t,variations:n,allowSkip:o}){const{replaceInnerBlocks:r,updateBlockAttributes:s}=(0,Y.useDispatch)(A.store);return(0,d.jsxs)(E.Placeholder,{icon:t.icon,label:t.name,instructions:"Please choose a variation to start with:",children:[(0,d.jsx)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,te.__)("Block variations"),children:n.map(i=>(0,d.jsxs)("li",{children:[(0,d.jsx)(E.Button,{__next40pxDefaultSize:!0,variant:"tertiary",className:"block-editor-block-variation-picker__variation",icon:typeof i.icon=="string"?(0,d.jsx)(Ae,{iconString:i.icon}):i.icon,iconSize:48,onClick:()=>{i.attributes&&s(e,i.attributes),i.innerBlocks&&r(e,(0,B.createBlocksFromInnerBlocksTemplate)(i.innerBlocks),!1)}}),(0,d.jsx)("span",{className:"block-editor-block-variation-picker__variation-label",children:i.title})]},i.name))}),o&&(0,d.jsx)("div",{className:"block-editor-block-variation-picker__skip",children:(0,d.jsx)(E.Button,{__next40pxDefaultSize:!0,variant:"link",onClick:()=>{r(e,[],!1),s(e,{hasDismissedVariationsSelector:!0})},children:(0,te.__)("Skip")})})]})}function Zs({imageId:e,className:t="",size:n="full"}){const o=useSelect(s=>typeof e=="number"&&e>0?s(coreStore).getEntityRecord?.("postType","attachment",e):void 0,[e]);if(!o)return null;const r=()=>{const s={src:o.source_url,className:`attachment-${n} size-${n} ${t}`,width:o.media_details.width,height:o.media_details.height,srcSet:""};return o.media_details?.sizes?.[n]&&(s.src=o.media_details.sizes[n].source_url,s.width=o.media_details.sizes[n].width,s.height=o.media_details.sizes[n].height),s.srcSet=Object.entries(o.media_details.sizes??{}).map(([i,a])=>`${a.source_url} ${a.width}w`).join(", "),s};return jsx(Fragment,{children:jsx("img",{...r(),alt:o.alt_text||""})})}function Yn(e){const t=[e.name];return e.attributes?t.push(e.attributes):t.push({}),e.innerBlocks?t.push(e.innerBlocks.map(n=>Yn(n))):t.push([]),t}function Js(e){const t=useRef(null);return t.current=document.querySelector('iframe[name="editor-canvas"]')?.contentWindow?.document.querySelector(".is-root-container")??null,function(){setTimeout(()=>{if(t.current){const r=e()?.scrollHeight??0;if(r){const s=t.current.style;s.minHeight="",t.current.setAttribute("style",`${s.cssText}min-height: ${r}px !important`)}else t.current.style.minHeight=""}},1)}}var Gn=H(5395),Ye=H.n(Gn);function M(e){return`\\${e.split("").join("\\")}`}function qn(e){const t=e.split("\\\\");let n="",o=0;for(let r of t){for(;r.search(new RegExp("[\\\\]"))!==-1;)r=r.replace("\\","");n=`${n}${o>0?"\\":""}${r}`,o++}return n}function j(e,t,n){let o="",r=0;const s=e.split("\\\\");for(let i of s){let a="",l=i.lastIndexOf(`${t}`);if(l===-1)o=`${o}${r>0?"\\\\":""}${i}`;else{for(;l!==-1;)e.charAt(l-1)!=="\\"?a=i.slice(l).replace(t,n)+a:a=i.slice(l)+a,i=i.slice(0,l),l=i.lastIndexOf(`${t}`);o=`${o}${i}${r>0?"\\\\":""}${a}`}r++}return o}function ie(e,t){const n=e.split("\\\\");let o=0,r=0;for(let s of n){r>0&&(o=o+2),r++;let i=s.lastIndexOf(`${t}`);if(i===0)return o;for(;i!==-1;){if(e.charAt(i-1)!=="\\")return o+i;s=s.slice(0,i),i=s.lastIndexOf(`${t}`)}o=o+s.length}return-1}class ne extends Date{format(t){if(t==="")return"";const n=this.getDay(),o=[M("Sunday"),M("Monday"),M("Tuesday"),M("Wednesday"),M("Thursday"),M("Friday"),M("Saturday")],r=this.getDate(),s=this.getMonth(),i=[M("January"),M("February"),M("March"),M("April"),M("May"),M("June"),M("July"),M("August"),M("September"),M("October"),M("November"),M("December")],a=this.getFullYear(),l=this.getHours(),u=this.getMinutes(),c=this.getSeconds(),f=this.getMilliseconds(),p=this.getTimezoneOffset();t=j(t,"c","Y-m-d\\TH:i:sp"),t=j(t,"r","D, d M Y H:i:s O"),t=j(t,"d",r.toString().padStart(2,"0")),t=j(t,"D",o[n].slice(0,6)),t=j(t,"j",r.toString()),t=j(t,"l",o[n]),t=j(t,"N",(n===0?7:n).toString()),r%10===1&&r!==11?t=j(t,"S",M("st")):r%10===2&&r!==12?t=j(t,"S",M("nd")):r%10===3&&r!==13?t=j(t,"S",M("rd")):t=j(t,"S",M("th")),t=j(t,"w",n.toString());let m=r;for(let x=s;x>0;x--){const w=new Date(a,x,0).getDate();m=m+w}t=j(t,"z",(m-1).toString()),ie(t,"W")!==-1&&console.warn("The W character is currently not supported. It has not been substituted or removed."),t=j(t,"F",i[s]),t=j(t,"m",(s+1).toString().padStart(2,"0")),t=j(t,"M",i[s].slice(0,6)),t=j(t,"n",(s+1).toString()),t=j(t,"t",new Date(a,s+1,0).getDate().toString()),new Date(a,2,0).getDate()===29?t=j(t,"L","1"):t=j(t,"L","0"),ie(t,"o")!==-1&&console.warn("The o character is currently not supported. It has not been substituted or removed."),t=j(t,"Y",a.toString()),t=j(t,"y",a.toString().slice(-2));let h=l,y="am";if(l>12&&(h=l-12,y="pm"),t=j(t,"a",M(y)),t=j(t,"A",M(y.toUpperCase())),t=j(t,"g",h.toString()),t=j(t,"G",l.toString()),t=j(t,"h",h.toString().padStart(2,"0")),t=j(t,"H",l.toString().padStart(2,"0")),t=j(t,"i",u.toString().padStart(2,"0")),t=j(t,"s",c.toString().padStart(2,"0")),t=j(t,"v",f.toString().padStart(3,"0")),ie(t,"B")!==-1&&console.warn("The B character is currently not supported. It has not been substituted or removed."),ie(t,"u")!==-1&&console.warn("The u character is not supported because of JS Date limitations. It has not been substituted or removed."),p===0)t=j(t,"O","+0000"),t=j(t,"P","+00:00"),t=j(t,"p","Z");else{const x=p%60,b=(p-x)/60;t=j(t,"O",`${p<0?"+":"-"}${Math.abs(b).toString().padStart(2,"0")}${x.toString().padStart(2,"0")}`),t=j(t,"P",`${p<0?"+":"-"}${Math.abs(b).toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`),t=j(t,"p",`${p<0?"+":"-"}${Math.abs(b).toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`)}return ie(t,"e")!==-1&&console.warn("The e character is currently not supported. It has not been substituted or removed."),ie(t,"I")!==-1&&console.warn("The I character is currently not supported. It has not been substituted or removed."),ie(t,"T")!==-1&&console.warn("The T character is currently not supported. It has not been substituted or removed."),ie(t,"Z")!==-1&&console.warn("The Z character is currently not supported. It has not been substituted or removed."),t=j(t,"U",(this.valueOf()/1e3).toString()),qn(t)}static parseString(t,n){if(n!=="Y-m-d\\TH:i:s.vp"&&n!=="ISO-8601")return console.error("parseDateUsingPHPDateFormat: Currently only ISO-8601 is supported."),new ne;const o=t.substring(0,4),r=t.substring(5,7),s=t.substring(8,10),i=t.substring(11,13),a=t.substring(14,16),l=t.substring(17,19),u=t.substring(20,23),c=t.substring(23);let f;if(c==="Z"||c==="z")f=0;else{const v=c.substring(0,3),S=c.slice(-2);f=Number(v)*60+Number(S)}const p=Number(o),m=Number(r)-1,h=Number(s),y=Number(i),x=Number(a)-f,b=Number(l),w=Number(u);return new ne(Date.UTC(p,m,h,y,x,b,w))}}const yt=window.wp.compose;function ei(e){if(e===void 0)throw new Error(`Pixel value ${e} is undefined`);if(!e.endsWith("px"))throw new Error(`Pixel value ${e} is not a pixel value`);if(e.includes(" "))throw new Error(`Pixel value ${e} contains multiple values`);return Number(e.replace("px",""))}function ti(e){let t="";const n=document.createElement("div");return n.innerHTML=e,t=n.innerText,Xn(t)}function Xn(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|(?<!-)-+$/g,"")}function Qn(e,t=()=>!0){const n=e.parentElement;return n===null?null:t(n)?n:Qn(n,t)}function ni(e){if(new RegExp("ms$","ig").test(e))return Number(e.substring(0,e.length-2));if(new RegExp("s$","ig").test(e))return Number(e.substring(0,e.length-1))*1e3;throw new Error("Time didn't end with ms or s so was not correctly parsed.")}function Ee(){if(typeof document>"u")return"unknown";const e=window.navigator.userAgent;let t="unknown";return e.search("Windows")!==-1?t="Windows":e.search("Mac")!==-1?t="MacOS":e.search("X11")!==-1&&e.search("Linux")===-1?t="UNIX":e.search("Linux")!==-1&&e.search("X11")!==-1&&(t="Linux"),t}function Kn(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.entries(e[n]).every(([r,s])=>Array.isArray(s)?Kn(s,t[n]?.[r]):t[n]?.[r]===s))return!1;return!0}var bt=!!(typeof window<"u"&&window.document&&window.document.createElement);function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function oi(e){if(!bt)throw new Error("Cannot access window outside of the DOM");return e?.ownerDocument?.defaultView??window}function wt(e){if(!bt)throw new Error("Cannot access document outside of the DOM");return e?.ownerDocument??document}function Zn(e,t=!1){const{activeElement:n}=wt(e);if(!n?.nodeName)return null;if(Jn(n)&&n.contentDocument)return Zn(n.contentDocument.body,t);if(t){const o=n.getAttribute("aria-activedescendant");if(o){const r=wt(n).getElementById(o);if(r)return r}}return n}function Jn(e){return e.tagName==="IFRAME"}function vt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _t(...e){return t=>{let n=!1;const o=e.map(r=>{const s=vt(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<o.length;r++){const s=o[r];typeof s=="function"?s():vt(e[r],null)}}}}function de(...e){return g.useCallback(_t(...e),e)}function ri(e,t){const n=React.createContext(t),o=s=>{const{children:i,...a}=s,l=React.useMemo(()=>a,Object.values(a));return jsx(n.Provider,{value:l,children:i})};o.displayName=e+"Provider";function r(s){const i=React.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[o,r]}function St(e,t=[]){let n=[];function o(s,i){const a=g.createContext(i),l=n.length;n=[...n,i];const u=f=>{const{scope:p,children:m,...h}=f,y=p?.[e]?.[l]||a,x=g.useMemo(()=>h,Object.values(h));return(0,d.jsx)(y.Provider,{value:x,children:m})};u.displayName=s+"Provider";function c(f,p){const m=p?.[e]?.[l]||a,h=g.useContext(m);if(h)return h;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,c]}const r=()=>{const s=n.map(i=>g.createContext(i));return function(a){const l=a?.[e]||s;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return r.scopeName=e,[o,eo(r,...t)]}function eo(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=o.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const Ge=window.ReactDOM;function to(e){const t=no(e),n=g.forwardRef((o,r)=>{const{children:s,...i}=o,a=g.Children.toArray(s),l=a.find(ro);if(l){const u=l.props.children,c=a.map(f=>f===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return(0,d.jsx)(t,{...i,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,c):null})}return(0,d.jsx)(t,{...i,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}var si=null;function no(e){const t=g.forwardRef((n,o)=>{const{children:r,...s}=n;if(g.isValidElement(r)){const i=io(r),a=so(s,r.props);return r.type!==g.Fragment&&(a.ref=o?_t(o,i):i),g.cloneElement(r,a)}return g.Children.count(r)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ct=Symbol("radix.slottable");function oo(e){const t=({children:n})=>(0,d.jsx)(d.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Ct,t}var ii=null;function ro(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ct}function so(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function io(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=lo.reduce((e,t)=>{const n=to(`Primitive.${t}`),o=g.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(l,{...a,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function ao(e,t){e&&Ge.flushSync(()=>e.dispatchEvent(t))}var li=null;function Re(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>t.current?.(...n),[])}function co(e,t=globalThis?.document){const n=Re(e);g.useEffect(()=>{const o=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var uo="DismissableLayer",qe="dismissableLayer.update",fo="dismissableLayer.pointerDownOutside",po="dismissableLayer.focusOutside",Tt,Pt=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jt=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,u=g.useContext(Pt),[c,f]=g.useState(null),p=c?.ownerDocument??globalThis?.document,[,m]=g.useState({}),h=de(t,_=>f(_)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(x),w=c?y.indexOf(c):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,C=ho(_=>{const O=_.target,k=[...u.branches].some(T=>T.contains(O));!S||k||(r?.(_),i?.(_),_.defaultPrevented||a?.())},p),P=xo(_=>{const O=_.target;[...u.branches].some(T=>T.contains(O))||(s?.(_),i?.(_),_.defaultPrevented||a?.())},p);return co(_=>{w===u.layers.size-1&&(o?.(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},p),g.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tt=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Ot(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Tt)}},[c,p,n,u]),g.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Ot())},[c,u]),g.useEffect(()=>{const _=()=>m({});return document.addEventListener(qe,_),()=>document.removeEventListener(qe,_)},[]),(0,d.jsx)(le.div,{...l,ref:h,style:{pointerEvents:v?S?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,C.onPointerDownCapture)})});jt.displayName=uo;var mo="DismissableLayerBranch",go=g.forwardRef((e,t)=>{const n=g.useContext(Pt),o=g.useRef(null),r=de(t,o);return g.useEffect(()=>{const s=o.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),(0,d.jsx)(le.div,{...e,ref:r})});go.displayName=mo;function ho(e,t=globalThis?.document){const n=Re(e),o=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!o.current){let u=function(){At(fo,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);o.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function xo(e,t=globalThis?.document){const n=Re(e),o=g.useRef(!1);return g.useEffect(()=>{const r=s=>{s.target&&!o.current&&At(po,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Ot(){const e=new CustomEvent(qe);document.dispatchEvent(e)}function At(e,t,n,{discrete:o}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?ao(r,s):r.dispatchEvent(s)}var ai=null,ci=null,ae=globalThis?.document?g.useLayoutEffect:()=>{},yo=mt[" useId ".trim().toString()]||(()=>{}),bo=0;function wo(e){const[t,n]=g.useState(yo());return ae(()=>{e||n(o=>o??String(bo++))},[e]),e||(t?`radix-${t}`:"")}const vo=["top","right","bottom","left"],ui=null,di=null,ce=Math.min,V=Math.max,Ne=Math.round,De=Math.floor,X=e=>({x:e,y:e}),_o={left:"right",right:"left",bottom:"top",top:"bottom"},So={start:"end",end:"start"};function Xe(e,t,n){return V(e,ce(t,n))}function re(e,t){return typeof e=="function"?e(t):e}function se(e){return e.split("-")[0]}function me(e){return e.split("-")[1]}function Qe(e){return e==="x"?"y":"x"}function Ke(e){return e==="y"?"height":"width"}const Co=new Set(["top","bottom"]);function Q(e){return Co.has(se(e))?"y":"x"}function Ze(e){return Qe(Q(e))}function To(e,t,n){n===void 0&&(n=!1);const o=me(e),r=Ze(e),s=Ke(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=ke(i)),[i,ke(i)]}function Po(e){const t=ke(e);return[Je(e),t,Je(t)]}function Je(e){return e.replace(/start|end/g,t=>So[t])}const Et=["left","right"],Rt=["right","left"],jo=["top","bottom"],Oo=["bottom","top"];function Ao(e,t,n){switch(e){case"top":case"bottom":return n?t?Rt:Et:t?Et:Rt;case"left":case"right":return t?jo:Oo;default:return[]}}function Eo(e,t,n,o){const r=me(e);let s=Ao(se(e),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(Je)))),s}function ke(e){return e.replace(/left|right|bottom|top/g,t=>_o[t])}function Ro(e){return{top:0,right:0,bottom:0,left:0,...e}}function Nt(e){return typeof e!="number"?Ro(e):{top:e,right:e,bottom:e,left:e}}function Me(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Dt(e,t,n){let{reference:o,floating:r}=e;const s=Q(t),i=Ze(t),a=Ke(i),l=se(t),u=s==="y",c=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,p=o[a]/2-r[a]/2;let m;switch(l){case"top":m={x:c,y:o.y-r.height};break;case"bottom":m={x:c,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:f};break;case"left":m={x:o.x-r.width,y:f};break;default:m={x:o.x,y:o.y}}switch(me(t)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}const No=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:f}=Dt(u,o,l),p=o,m={},h=0;for(let y=0;y<a.length;y++){const{name:x,fn:b}=a[y],{x:w,y:v,data:S,reset:C}=await b({x:c,y:f,initialPlacement:o,placement:p,strategy:r,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});c=w??c,f=v??f,m={...m,[x]:{...m[x],...S}},C&&h<=50&&(h++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):C.rects),{x:c,y:f}=Dt(u,p,l)),y=-1)}return{x:c,y:f,placement:p,strategy:r,middlewareData:m}};async function ge(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=re(t,e),h=Nt(m),x=a[p?f==="floating"?"reference":"floating":f],b=Me(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),w=f==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Me(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:v,strategy:l}):w);return{top:(b.top-C.top+h.top)/S.y,bottom:(C.bottom-b.bottom+h.bottom)/S.y,left:(b.left-C.left+h.left)/S.x,right:(C.right-b.right+h.right)/S.x}}const Do=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=re(e,t)||{};if(u==null)return{};const f=Nt(c),p={x:n,y:o},m=Ze(r),h=Ke(m),y=await i.getDimensions(u),x=m==="y",b=x?"top":"left",w=x?"bottom":"right",v=x?"clientHeight":"clientWidth",S=s.reference[h]+s.reference[m]-p[m]-s.floating[h],C=p[m]-s.reference[m],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=P?P[v]:0;(!_||!await(i.isElement==null?void 0:i.isElement(P)))&&(_=a.floating[v]||s.floating[h]);const O=S/2-C/2,k=_/2-y[h]/2-1,T=ce(f[b],k),N=ce(f[w],k),L=T,D=_-y[h]-N,I=_/2-y[h]/2+O,z=Xe(L,I,D),$=!l.arrow&&me(r)!=null&&I!==z&&s.reference[h]/2-(I<L?T:N)-y[h]/2<0,F=$?I<L?I-L:I-D:0;return{[m]:p[m]+F,data:{[m]:z,centerOffset:I-z-F,...$&&{alignmentOffset:F}},reset:$}}});function ko(e,t,n){return(e?[...n.filter(r=>getAlignment(r)===e),...n.filter(r=>getAlignment(r)!==e)]:n.filter(r=>getSide(r)===r)).filter(r=>e?getAlignment(r)===e||(t?getOppositeAlignmentPlacement(r)!==r:!1):!0)}const fi=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,r;const{rects:s,middlewareData:i,placement:a,platform:l,elements:u}=t,{crossAxis:c=!1,alignment:f,allowedPlacements:p=placements,autoAlignment:m=!0,...h}=evaluate(e,t),y=f!==void 0||p===placements?ko(f||null,m,p):p,x=await ge(t,h),b=((n=i.autoPlacement)==null?void 0:n.index)||0,w=y[b];if(w==null)return{};const v=getAlignmentSides(w,s,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(a!==w)return{reset:{placement:y[0]}};const S=[x[getSide(w)],x[v[0]],x[v[1]]],C=[...((o=i.autoPlacement)==null?void 0:o.overflows)||[],{placement:w,overflows:S}],P=y[b+1];if(P)return{data:{index:b+1,overflows:C},reset:{placement:P}};const _=C.map(T=>{const N=getAlignment(T.placement);return[T.placement,N&&c?T.overflows.slice(0,2).reduce((L,D)=>L+D,0):T.overflows[0],T.overflows]}).sort((T,N)=>T[1]-N[1]),k=((r=_.filter(T=>T[2].slice(0,getAlignment(T[0])?2:3).every(N=>N<=0))[0])==null?void 0:r[0])||_[0][0];return k!==a?{data:{index:b+1,overflows:C},reset:{placement:k}}:{}}}},Mo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:y=!0,...x}=re(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=se(r),w=Q(a),v=se(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=p||(v||!y?[ke(a)]:Po(a)),P=h!=="none";!p&&P&&C.push(...Eo(a,y,h,S));const _=[a,...C],O=await ge(t,x),k=[];let T=((o=s.flip)==null?void 0:o.overflows)||[];if(c&&k.push(O[b]),f){const I=To(r,i,S);k.push(O[I[0]],O[I[1]])}if(T=[...T,{placement:r,overflows:k}],!k.every(I=>I<=0)){var N,L;const I=(((N=s.flip)==null?void 0:N.index)||0)+1,z=_[I];if(z&&(!(f==="alignment"?w!==Q(z):!1)||T.every(R=>Q(R.placement)===w?R.overflows[0]>0:!0)))return{data:{index:I,overflows:T},reset:{placement:z}};let $=(L=T.filter(F=>F.overflows[0]<=0).sort((F,R)=>F.overflows[1]-R.overflows[1])[0])==null?void 0:L.placement;if(!$)switch(m){case"bestFit":{var D;const F=(D=T.filter(R=>{if(P){const W=Q(R.placement);return W===w||W==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(W=>W>0).reduce((W,J)=>W+J,0)]).sort((R,W)=>R[1]-W[1])[0])==null?void 0:D[0];F&&($=F);break}case"initialPlacement":$=a;break}if(r!==$)return{reset:{placement:$}}}return{}}}};function kt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mt(e){return vo.some(t=>e[t]>=0)}const Io=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=re(e,t);switch(o){case"referenceHidden":{const s=await ge(t,{...r,elementContext:"reference"}),i=kt(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Mt(i)}}}case"escaped":{const s=await ge(t,{...r,altBoundary:!0}),i=kt(s,n.floating);return{data:{escapedOffsets:i,escaped:Mt(i)}}}default:return{}}}}};function It(e){const t=min(...e.map(s=>s.left)),n=min(...e.map(s=>s.top)),o=max(...e.map(s=>s.right)),r=max(...e.map(s=>s.bottom));return{x:t,y:n,width:o-t,height:r-n}}function Lo(e){const t=e.slice().sort((r,s)=>r.y-s.y),n=[];let o=null;for(let r=0;r<t.length;r++){const s=t[r];!o||s.y-o.y>o.height/2?n.push([s]):n[n.length-1].push(s),o=s}return n.map(r=>rectToClientRect(It(r)))}const pi=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:o,rects:r,platform:s,strategy:i}=t,{padding:a=2,x:l,y:u}=evaluate(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(o.reference))||[]),f=Lo(c),p=rectToClientRect(It(c)),m=getPaddingObject(a);function h(){if(f.length===2&&f[0].left>f[1].right&&l!=null&&u!=null)return f.find(x=>l>x.left-m.left&&l<x.right+m.right&&u>x.top-m.top&&u<x.bottom+m.bottom)||p;if(f.length>=2){if(getSideAxis(n)==="y"){const T=f[0],N=f[f.length-1],L=getSide(n)==="top",D=T.top,I=N.bottom,z=L?T.left:N.left,$=L?T.right:N.right,F=$-z,R=I-D;return{top:D,bottom:I,left:z,right:$,width:F,height:R,x:z,y:D}}const x=getSide(n)==="left",b=max(...f.map(T=>T.right)),w=min(...f.map(T=>T.left)),v=f.filter(T=>x?T.left===w:T.right===b),S=v[0].top,C=v[v.length-1].bottom,P=w,_=b,O=_-P,k=C-S;return{top:S,bottom:C,left:P,right:_,width:O,height:k,x:P,y:S}}return p}const y=await s.getElementRects({reference:{getBoundingClientRect:h},floating:o.floating,strategy:i});return r.reference.x!==y.reference.x||r.reference.y!==y.reference.y||r.reference.width!==y.reference.width||r.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}},Lt=new Set(["left","top"]);async function $o(e,t){const{placement:n,platform:o,elements:r}=e,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=se(n),a=me(n),l=Q(n)==="y",u=Lt.has(i)?-1:1,c=s&&l?-1:1,f=re(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof h=="number"&&(m=a==="end"?h*-1:h),l?{x:m*c,y:p*u}:{x:p*u,y:m*c}}const Bo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:s,placement:i,middlewareData:a}=t,l=await $o(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:i}}}}},Fo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...l}=re(e,t),u={x:n,y:o},c=await ge(t,l),f=Q(se(r)),p=Qe(f);let m=u[p],h=u[f];if(s){const x=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=m+c[x],v=m-c[b];m=Xe(w,m,v)}if(i){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=h+c[x],v=h-c[b];h=Xe(w,h,v)}const y=a.fn({...t,[p]:m,[f]:h});return{...y,data:{x:y.x-n,y:y.y-o,enabled:{[p]:s,[f]:i}}}}}},Ho=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=re(e,t),c={x:n,y:o},f=Q(r),p=Qe(f);let m=c[p],h=c[f];const y=re(a,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const v=p==="y"?"height":"width",S=s.reference[p]-s.floating[v]+x.mainAxis,C=s.reference[p]+s.reference[v]-x.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var b,w;const v=p==="y"?"width":"height",S=Lt.has(se(r)),C=s.reference[f]-s.floating[v]+(S&&((b=i.offset)==null?void 0:b[f])||0)+(S?0:x.crossAxis),P=s.reference[f]+s.reference[v]+(S?0:((w=i.offset)==null?void 0:w[f])||0)-(S?x.crossAxis:0);h<C?h=C:h>P&&(h=P)}return{[p]:m,[f]:h}}}},zo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...u}=re(e,t),c=await ge(t,u),f=se(r),p=me(r),m=Q(r)==="y",{width:h,height:y}=s.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,x=p==="end"?"top":"bottom");const w=y-c.top-c.bottom,v=h-c.left-c.right,S=ce(y-c[x],w),C=ce(h-c[b],v),P=!t.middlewareData.shift;let _=S,O=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=v),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(_=w),P&&!p){const T=V(c.left,0),N=V(c.right,0),L=V(c.top,0),D=V(c.bottom,0);m?O=h-2*(T!==0||N!==0?T+N:V(c.left,c.right)):_=y-2*(L!==0||D!==0?L+D:V(c.top,c.bottom))}await l({...t,availableWidth:O,availableHeight:_});const k=await i.getDimensions(a.floating);return h!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function Ie(){return typeof window<"u"}function he(e){return $t(e)?(e.nodeName||"").toLowerCase():"#document"}function U(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function K(e){var t;return(t=($t(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $t(e){return Ie()?e instanceof Node||e instanceof U(e).Node:!1}function G(e){return Ie()?e instanceof Element||e instanceof U(e).Element:!1}function Z(e){return Ie()?e instanceof HTMLElement||e instanceof U(e).HTMLElement:!1}function Bt(e){return!Ie()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof U(e).ShadowRoot}const Wo=new Set(["inline","contents"]);function ve(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=q(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!Wo.has(r)}const Vo=new Set(["table","td","th"]);function Uo(e){return Vo.has(he(e))}const Yo=[":popover-open",":modal"];function Le(e){return Yo.some(t=>{try{return e.matches(t)}catch{return!1}})}const Go=["transform","translate","scale","rotate","perspective"],qo=["transform","translate","scale","rotate","perspective","filter"],Xo=["paint","layout","strict","content"];function et(e){const t=tt(),n=G(e)?q(e):e;return Go.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qo.some(o=>(n.willChange||"").includes(o))||Xo.some(o=>(n.contain||"").includes(o))}function Qo(e){let t=ue(e);for(;Z(t)&&!xe(t);){if(et(t))return t;if(Le(t))return null;t=ue(t)}return null}function tt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ko=new Set(["html","body","#document"]);function xe(e){return Ko.has(he(e))}function q(e){return U(e).getComputedStyle(e)}function $e(e){return G(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(he(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bt(e)&&e.host||K(e);return Bt(t)?t.host:t}function Ft(e){const t=ue(e);return xe(t)?e.ownerDocument?e.ownerDocument.body:e.body:Z(t)&&ve(t)?t:Ft(t)}function _e(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Ft(e),s=r===((o=e.ownerDocument)==null?void 0:o.body),i=U(r);if(s){const a=nt(i);return t.concat(i,i.visualViewport||[],ve(r)?r:[],a&&n?_e(a):[])}return t.concat(r,_e(r,[],n))}function nt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ht(e){const t=q(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=Z(e),s=r?e.offsetWidth:n,i=r?e.offsetHeight:o,a=Ne(n)!==s||Ne(o)!==i;return a&&(n=s,o=i),{width:n,height:o,$:a}}function ot(e){return G(e)?e:e.contextElement}function ye(e){const t=ot(e);if(!Z(t))return X(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:s}=Ht(t);let i=(s?Ne(n.width):n.width)/o,a=(s?Ne(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Zo=X(0);function zt(e){const t=U(e);return!tt()||!t.visualViewport?Zo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Jo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==U(e)?!1:t}function fe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=ot(e);let i=X(1);t&&(o?G(o)&&(i=ye(o)):i=ye(e));const a=Jo(s,n,o)?zt(s):X(0);let l=(r.left+a.x)/i.x,u=(r.top+a.y)/i.y,c=r.width/i.x,f=r.height/i.y;if(s){const p=U(s),m=o&&G(o)?U(o):o;let h=p,y=nt(h);for(;y&&o&&m!==h;){const x=ye(y),b=y.getBoundingClientRect(),w=q(y),v=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*x.x,S=b.top+(y.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,u*=x.y,c*=x.x,f*=x.y,l+=v,u+=S,h=U(y),y=nt(h)}}return Me({width:c,height:f,x:l,y:u})}function Be(e,t){const n=$e(e).scrollLeft;return t?t.left+n:fe(K(e)).left+n}function Wt(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-Be(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function er(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const s=r==="fixed",i=K(o),a=t?Le(t.floating):!1;if(o===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=X(1);const c=X(0),f=Z(o);if((f||!f&&!s)&&((he(o)!=="body"||ve(i))&&(l=$e(o)),Z(o))){const m=fe(o);u=ye(o),c.x=m.x+o.clientLeft,c.y=m.y+o.clientTop}const p=i&&!f&&!s?Wt(i,l):X(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+p.x,y:n.y*u.y-l.scrollTop*u.y+c.y+p.y}}function tr(e){return Array.from(e.getClientRects())}function nr(e){const t=K(e),n=$e(e),o=e.ownerDocument.body,r=V(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=V(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+Be(e);const a=-n.scrollTop;return q(o).direction==="rtl"&&(i+=V(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:a}}const Vt=25;function or(e,t){const n=U(e),o=K(e),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,a=0,l=0;if(r){s=r.width,i=r.height;const c=tt();(!c||c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const u=Be(o);if(u<=0){const c=o.ownerDocument,f=c.body,p=getComputedStyle(f),m=c.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,h=Math.abs(o.clientWidth-f.clientWidth-m);h<=Vt&&(s-=h)}else u<=Vt&&(s+=u);return{width:s,height:i,x:a,y:l}}const rr=new Set(["absolute","fixed"]);function sr(e,t){const n=fe(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,s=Z(e)?ye(e):X(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=r*s.x,u=o*s.y;return{width:i,height:a,x:l,y:u}}function Ut(e,t,n){let o;if(t==="viewport")o=or(e,n);else if(t==="document")o=nr(K(e));else if(G(t))o=sr(t,n);else{const r=zt(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Me(o)}function Yt(e,t){const n=ue(e);return n===t||!G(n)||xe(n)?!1:q(n).position==="fixed"||Yt(n,t)}function ir(e,t){const n=t.get(e);if(n)return n;let o=_e(e,[],!1).filter(a=>G(a)&&he(a)!=="body"),r=null;const s=q(e).position==="fixed";let i=s?ue(e):e;for(;G(i)&&!xe(i);){const a=q(i),l=et(i);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&rr.has(r.position)||ve(i)&&!l&&Yt(e,i))?o=o.filter(c=>c!==i):r=a,i=ue(i)}return t.set(e,o),o}function lr(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?Le(t)?[]:ir(t,this._c):[].concat(n),o],a=i[0],l=i.reduce((u,c)=>{const f=Ut(t,c,r);return u.top=V(f.top,u.top),u.right=ce(f.right,u.right),u.bottom=ce(f.bottom,u.bottom),u.left=V(f.left,u.left),u},Ut(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ar(e){const{width:t,height:n}=Ht(e);return{width:t,height:n}}function cr(e,t,n){const o=Z(t),r=K(t),s=n==="fixed",i=fe(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=X(0);function u(){l.x=Be(r)}if(o||!o&&!s)if((he(t)!=="body"||ve(r))&&(a=$e(t)),o){const m=fe(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else r&&u();s&&!o&&r&&u();const c=r&&!o&&!s?Wt(r,a):X(0),f=i.left+a.scrollLeft-l.x-c.x,p=i.top+a.scrollTop-l.y-c.y;return{x:f,y:p,width:i.width,height:i.height}}function rt(e){return q(e).position==="static"}function Gt(e,t){if(!Z(e)||q(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return K(e)===n&&(n=n.ownerDocument.body),n}function qt(e,t){const n=U(e);if(Le(e))return n;if(!Z(e)){let r=ue(e);for(;r&&!xe(r);){if(G(r)&&!rt(r))return r;r=ue(r)}return n}let o=Gt(e,t);for(;o&&Uo(o)&&rt(o);)o=Gt(o,t);return o&&xe(o)&&rt(o)&&!et(o)?n:o||Qo(e)||n}const ur=async function(e){const t=this.getOffsetParent||qt,n=this.getDimensions,o=await n(e.floating);return{reference:cr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function dr(e){return q(e).direction==="rtl"}const fr={convertOffsetParentRelativeRectToViewportRelativeRect:er,getDocumentElement:K,getClippingRect:lr,getOffsetParent:qt,getElementRects:ur,getClientRects:tr,getDimensions:ar,getScale:ye,isElement:G,isRTL:dr};function Xt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function pr(e,t){let n=null,o;const r=K(e);function s(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:c,top:f,width:p,height:m}=u;if(a||t(),!p||!m)return;const h=De(f),y=De(r.clientWidth-(c+p)),x=De(r.clientHeight-(f+m)),b=De(c),v={rootMargin:-h+"px "+-y+"px "+-x+"px "+-b+"px",threshold:V(0,ce(1,l))||1};let S=!0;function C(P){const _=P[0].intersectionRatio;if(_!==l){if(!S)return i();_?i(!1,_):o=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!Xt(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(C,{...v,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(e)}return i(!0),s}function mr(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,u=ot(e),c=r||s?[...u?_e(u):[],..._e(t)]:[];c.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&a?pr(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let h,y=l?fe(e):null;l&&x();function x(){const b=fe(e);y&&!Xt(y,b)&&n(),y=b,h=requestAnimationFrame(x)}return n(),()=>{var b;c.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f?.(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const mi=null,gr=Bo,gi=null,hr=Fo,xr=Mo,yr=zo,br=Io,Qt=Do,hi=null,wr=Ho,vr=(e,t,n)=>{const o=new Map,r={platform:fr,...n},s={...r.platform,_c:o};return No(e,t,{...r,platform:s})};var _r=typeof document<"u",Sr=function(){},Fe=_r?g.useLayoutEffect:Sr;function He(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!He(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const s=r[o];if(!(s==="_owner"&&e.$$typeof)&&!He(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Kt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zt(e,t){const n=Kt(e);return Math.round(t*n)/n}function st(e){const t=g.useRef(e);return Fe(()=>{t.current=e}),t}function Cr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(o);He(p,o)||m(o);const[h,y]=g.useState(null),[x,b]=g.useState(null),w=g.useCallback(R=>{R!==P.current&&(P.current=R,y(R))},[]),v=g.useCallback(R=>{R!==_.current&&(_.current=R,b(R))},[]),S=s||h,C=i||x,P=g.useRef(null),_=g.useRef(null),O=g.useRef(c),k=l!=null,T=st(l),N=st(r),L=st(u),D=g.useCallback(()=>{if(!P.current||!_.current)return;const R={placement:t,strategy:n,middleware:p};N.current&&(R.platform=N.current),vr(P.current,_.current,R).then(W=>{const J={...W,isPositioned:L.current!==!1};I.current&&!He(O.current,J)&&(O.current=J,Ge.flushSync(()=>{f(J)}))})},[p,t,n,N,L]);Fe(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const I=g.useRef(!1);Fe(()=>(I.current=!0,()=>{I.current=!1}),[]),Fe(()=>{if(S&&(P.current=S),C&&(_.current=C),S&&C){if(T.current)return T.current(S,C,D);D()}},[S,C,D,T,k]);const z=g.useMemo(()=>({reference:P,floating:_,setReference:w,setFloating:v}),[w,v]),$=g.useMemo(()=>({reference:S,floating:C}),[S,C]),F=g.useMemo(()=>{const R={position:n,left:0,top:0};if(!$.floating)return R;const W=Zt($.floating,c.x),J=Zt($.floating,c.y);return a?{...R,transform:"translate("+W+"px, "+J+"px)",...Kt($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:J}},[n,a,$.floating,c.x,c.y]);return g.useMemo(()=>({...c,update:D,refs:z,elements:$,floatingStyles:F}),[c,D,z,$,F])}const Tr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:r}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?Qt({element:o.current,padding:r}).fn(n):{}:o?Qt({element:o,padding:r}).fn(n):{}}}},Pr=(e,t)=>({...gr(e),options:[e,t]}),jr=(e,t)=>({...hr(e),options:[e,t]}),Or=(e,t)=>({...wr(e),options:[e,t]}),Ar=(e,t)=>({...xr(e),options:[e,t]}),Er=(e,t)=>({...yr(e),options:[e,t]}),xi=(e,t)=>({...autoPlacement$1(e),options:[e,t]}),Rr=(e,t)=>({...br(e),options:[e,t]}),yi=(e,t)=>({...inline$1(e),options:[e,t]}),Nr=(e,t)=>({...Tr(e),options:[e,t]});var Dr="Arrow",Jt=g.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...s}=e;return(0,d.jsx)(le.svg,{...s,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,d.jsx)("polygon",{points:"0,0 30,0 15,10"})})});Jt.displayName=Dr;var kr=Jt;function Mr(e){const[t,n]=g.useState(void 0);return ae(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var bi=null,wi=null,it="Popper",[en,tn]=St(it),[Ir,nn]=en(it),on=e=>{const{__scopePopper:t,children:n}=e,[o,r]=g.useState(null);return(0,d.jsx)(Ir,{scope:t,anchor:o,onAnchorChange:r,children:n})};on.displayName=it;var rn="PopperAnchor",sn=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,s=nn(rn,n),i=g.useRef(null),a=de(t,i),l=g.useRef(null);return g.useEffect(()=>{const u=l.current;l.current=o?.current||i.current,u!==l.current&&s.onAnchorChange(l.current)}),o?null:(0,d.jsx)(le.div,{...r,ref:a})});sn.displayName=rn;var lt="PopperContent",[Lr,$r]=en(lt),ln=g.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:h,...y}=e,x=nn(lt,n),[b,w]=g.useState(null),v=de(t,Te=>w(Te)),[S,C]=g.useState(null),P=Mr(S),_=P?.width??0,O=P?.height??0,k=o+(s!=="center"?"-"+s:""),T=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},N=Array.isArray(u)?u:[u],L=N.length>0,D={padding:T,boundary:N.filter(Fr),altBoundary:L},{refs:I,floatingStyles:z,placement:$,isPositioned:F,middlewareData:R}=Cr({strategy:"fixed",placement:k,whileElementsMounted:(...Te)=>mr(...Te,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Pr({mainAxis:r+O,alignmentAxis:i}),l&&jr({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Or():void 0,...D}),l&&Ar({...D}),Er({...D,apply:({elements:Te,rects:Rn,availableWidth:Ws,availableHeight:Vs})=>{const{width:Us,height:Ys}=Rn.reference,Ue=Te.floating.style;Ue.setProperty("--radix-popper-available-width",`${Ws}px`),Ue.setProperty("--radix-popper-available-height",`${Vs}px`),Ue.setProperty("--radix-popper-anchor-width",`${Us}px`),Ue.setProperty("--radix-popper-anchor-height",`${Ys}px`)}}),S&&Nr({element:S,padding:a}),Hr({arrowWidth:_,arrowHeight:O}),p&&Rr({strategy:"referenceHidden",...D})]}),[W,J]=un($),En=Re(h);ae(()=>{F&&En?.()},[F,En]);const $s=R.arrow?.x,Bs=R.arrow?.y,Fs=R.arrow?.centerOffset!==0,[Hs,zs]=g.useState();return ae(()=>{b&&zs(window.getComputedStyle(b).zIndex)},[b]),(0,d.jsx)("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:F?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Hs,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,d.jsx)(Lr,{scope:n,placedSide:W,onArrowChange:C,arrowX:$s,arrowY:Bs,shouldHideArrow:Fs,children:(0,d.jsx)(le.div,{"data-side":W,"data-align":J,...y,ref:v,style:{...y.style,animation:F?void 0:"none"}})})})});ln.displayName=lt;var an="PopperArrow",Br={top:"bottom",right:"left",bottom:"top",left:"right"},cn=g.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,s=$r(an,o),i=Br[s.placedSide];return(0,d.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,d.jsx)(kr,{...r,ref:n,style:{...r.style,display:"block"}})})});cn.displayName=an;function Fr(e){return e!==null}var Hr=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:r}=t,i=r.arrow?.centerOffset!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,c]=un(n),f={start:"0%",center:"50%",end:"100%"}[c],p=(r.arrow?.x??0)+a/2,m=(r.arrow?.y??0)+l/2;let h="",y="";return u==="bottom"?(h=i?f:`${p}px`,y=`${-l}px`):u==="top"?(h=i?f:`${p}px`,y=`${o.floating.height+l}px`):u==="right"?(h=`${-l}px`,y=i?f:`${m}px`):u==="left"&&(h=`${o.floating.width+l}px`,y=i?f:`${m}px`),{data:{x:h,y}}}});function un(e){const[t,n="center"]=e.split("-");return[t,n]}var zr=on,Wr=sn,Vr=ln,Ur=cn,Yr="Portal",dn=g.forwardRef((e,t)=>{const{container:n,...o}=e,[r,s]=g.useState(!1);ae(()=>s(!0),[]);const i=n||r&&globalThis?.document?.body;return i?Ge.createPortal((0,d.jsx)(le.div,{...o,ref:t}),i):null});dn.displayName=Yr;var vi=null;function Gr(e,t){return g.useReducer((n,o)=>t[n][o]??n,e)}var at=e=>{const{present:t,children:n}=e,o=qr(t),r=typeof n=="function"?n({present:o.isPresent}):g.Children.only(n),s=de(o.ref,Xr(r));return typeof n=="function"||o.isPresent?g.cloneElement(r,{ref:s}):null};at.displayName="Presence";function qr(e){const[t,n]=g.useState(),o=g.useRef(null),r=g.useRef(e),s=g.useRef("none"),i=e?"mounted":"unmounted",[a,l]=Gr(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=ze(o.current);s.current=a==="mounted"?u:"none"},[a]),ae(()=>{const u=o.current,c=r.current;if(c!==e){const p=s.current,m=ze(u);e?l("MOUNT"):m==="none"||u?.display==="none"?l("UNMOUNT"):l(c&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),ae(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,f=m=>{const y=ze(o.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!r.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=m=>{m.target===t&&(s.current=ze(o.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{o.current=u?getComputedStyle(u):null,n(u)},[])}}function ze(e){return e?.animationName||"none"}function Xr(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _i=null,Qr=mt[" useInsertionEffect ".trim().toString()]||ae;function Kr({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[r,s,i]=Zr({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:r;{const c=g.useRef(e!==void 0);g.useEffect(()=>{const f=c.current;f!==a&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,o])}const u=g.useCallback(c=>{if(a){const f=Jr(c)?c(e):c;f!==e&&i.current?.(f)}else s(c)},[a,e,s,i]);return[l,u]}function Zr({defaultProp:e,onChange:t}){const[n,o]=g.useState(e),r=g.useRef(n),s=g.useRef(t);return Qr(()=>{s.current=t},[t]),g.useEffect(()=>{r.current!==n&&(s.current?.(n),r.current=n)},[n,r]),[n,o,s]}function Jr(e){return typeof e=="function"}var fn=Symbol("RADIX:SYNC_STATE");function Si(e,t,n,o){const{prop:r,defaultProp:s,onChange:i,caller:a}=t,l=r!==void 0,u=useEffectEvent(i);{const x=React2.useRef(r!==void 0);React2.useEffect(()=>{const b=x.current;b!==l&&console.warn(`${a} is changing from ${b?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=l},[l,a])}const c=[{...n,state:s}];o&&c.push(o);const[f,p]=React2.useReducer((x,b)=>{if(b.type===fn)return{...x,state:b.state};const w=e(x,b);return l&&!Object.is(w.state,x.state)&&u(w.state),w},...c),m=f.state,h=React2.useRef(m);React2.useEffect(()=>{h.current!==m&&(h.current=m,l||u(m))},[u,m,h,l]);const y=React2.useMemo(()=>r!==void 0?{...f,state:r}:f,[f,r]);return React2.useEffect(()=>{l&&!Object.is(r,f.state)&&p({type:fn,state:r})},[r,f.state,l]),[y,p]}var es=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ts="VisuallyHidden",pn=g.forwardRef((e,t)=>(0,d.jsx)(le.span,{...e,ref:t,style:{...es,...e.style}}));pn.displayName=ts;var ns=pn,[We,Ci]=St("Tooltip",[tn]),Ve=tn(),mn="TooltipProvider",os=700,ct="tooltip.open",[rs,ut]=We(mn),gn=e=>{const{__scopeTooltip:t,delayDuration:n=os,skipDelayDuration:o=300,disableHoverableContent:r=!1,children:s}=e,i=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),(0,d.jsx)(rs,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,o)},[o]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:r,children:s})};gn.displayName=mn;var Se="Tooltip",[ss,Ce]=We(Se),hn=e=>{const{__scopeTooltip:t,children:n,open:o,defaultOpen:r,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=ut(Se,e.__scopeTooltip),u=Ve(t),[c,f]=g.useState(null),p=wo(),m=g.useRef(0),h=i??l.disableHoverableContent,y=a??l.delayDuration,x=g.useRef(!1),[b,w]=Kr({prop:o,defaultProp:r??!1,onChange:_=>{_?(l.onOpen(),document.dispatchEvent(new CustomEvent(ct))):l.onClose(),s?.(_)},caller:Se}),v=g.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),S=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)},[w]),C=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),P=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,w(!0),m.current=0},y)},[y,w]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,d.jsx)(zr,{...u,children:(0,d.jsx)(ss,{scope:t,contentId:p,open:b,stateAttribute:v,trigger:c,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?P():S()},[l.isOpenDelayedRef,P,S]),onTriggerLeave:g.useCallback(()=>{h?C():(window.clearTimeout(m.current),m.current=0)},[C,h]),onOpen:S,onClose:C,disableHoverableContent:h,children:n})})};hn.displayName=Se;var dt="TooltipTrigger",xn=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,r=Ce(dt,n),s=ut(dt,n),i=Ve(n),a=g.useRef(null),l=de(t,a,r.onTriggerChange),u=g.useRef(!1),c=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),(0,d.jsx)(Wr,{asChild:!0,...i,children:(0,d.jsx)(le.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...o,ref:l,onPointerMove:oe(e.onPointerMove,p=>{p.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),c.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{r.onTriggerLeave(),c.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:oe(e.onBlur,r.onClose),onClick:oe(e.onClick,r.onClose)})})});xn.displayName=dt;var ft="TooltipPortal",[is,ls]=We(ft,{forceMount:void 0}),as=e=>{const{__scopeTooltip:t,forceMount:n,children:o,container:r}=e,s=Ce(ft,t);return(0,d.jsx)(is,{scope:t,forceMount:n,children:(0,d.jsx)(at,{present:n||s.open,children:(0,d.jsx)(dn,{asChild:!0,container:r,children:o})})})};as.displayName=ft;var be="TooltipContent",yn=g.forwardRef((e,t)=>{const n=ls(be,e.__scopeTooltip),{forceMount:o=n.forceMount,side:r="top",...s}=e,i=Ce(be,e.__scopeTooltip);return(0,d.jsx)(at,{present:o||i.open,children:i.disableHoverableContent?(0,d.jsx)(bn,{side:r,...s,ref:t}):(0,d.jsx)(cs,{side:r,...s,ref:t})})}),cs=g.forwardRef((e,t)=>{const n=Ce(be,e.__scopeTooltip),o=ut(be,e.__scopeTooltip),r=g.useRef(null),s=de(t,r),[i,a]=g.useState(null),{trigger:l,onClose:u}=n,c=r.current,{onPointerInTransitChange:f}=o,p=g.useCallback(()=>{a(null),f(!1)},[f]),m=g.useCallback((h,y)=>{const x=h.currentTarget,b={x:h.clientX,y:h.clientY},w=ps(b,x.getBoundingClientRect()),v=ms(b,w),S=gs(y.getBoundingClientRect()),C=xs([...v,...S]);a(C),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&c){const h=x=>m(x,c),y=x=>m(x,l);return l.addEventListener("pointerleave",h),c.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",h),c.removeEventListener("pointerleave",y)}}},[l,c,m,p]),g.useEffect(()=>{if(i){const h=y=>{const x=y.target,b={x:y.clientX,y:y.clientY},w=l?.contains(x)||c?.contains(x),v=!hs(b,i);w?p():v&&(p(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[l,c,i,u,p]),(0,d.jsx)(bn,{...e,ref:s})}),[us,ds]=We(Se,{isInside:!1}),fs=oo("TooltipContent"),bn=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:o,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=Ce(be,n),u=Ve(n),{onClose:c}=l;return g.useEffect(()=>(document.addEventListener(ct,c),()=>document.removeEventListener(ct,c)),[c]),g.useEffect(()=>{if(l.trigger){const f=p=>{p.target?.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),(0,d.jsx)(jt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:(0,d.jsxs)(Vr,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,d.jsx)(fs,{children:o}),(0,d.jsx)(us,{scope:n,isInside:!0,children:(0,d.jsx)(ns,{id:l.contentId,role:"tooltip",children:r||o})})]})})});yn.displayName=be;var wn="TooltipArrow",vn=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,r=Ve(n);return ds(wn,n).isInside?null:(0,d.jsx)(Ur,{...r,...o,ref:t})});vn.displayName=wn;function ps(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,o,r,s)){case s:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ms(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function gs(e){const{top:t,right:n,bottom:o,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:o},{x:r,y:o}]}function hs(e,t){const{x:n,y:o}=e;let r=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s],l=t[i],u=a.x,c=a.y,f=l.x,p=l.y;c>o!=p>o&&n<(f-u)*(o-c)/(p-c)+u&&(r=!r)}return r}function xs(e){const t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),ys(t)}function ys(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const r=e[o];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const r=e[o];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var bs=gn,ws=hn,vs=xn,Ti=null,_s=yn,Ss=vn;function _n({children:e,content:t,open:n,defaultOpen:o,onOpenChange:r,...s}){return(0,d.jsxs)(bs,{children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`
.tooltip-content {
	background-color: #f4f6fc;
	border: 1px solid #707d99;
	border-radius: 10px;
	padding: 0.5rem;
}

.tooltip-arrow {
	fill: #707d99;
}`}}),(0,d.jsxs)(ws,{open:n,defaultOpen:o,onOpenChange:r,children:[(0,d.jsx)(vs,{asChild:!0,children:e}),(0,d.jsxs)(_s,{align:"center",...s,className:"tooltip-content",children:[t,(0,d.jsx)(Ss,{className:"tooltip-arrow"})]})]})]})}const Cs=(0,g.forwardRef)(function({allowShiftClick:t=!0,allowAltClick:n=!0,allowMetaOrCtrlClick:o=!0,defaultValue:r,value:s,onValidation:i,...a},l){const[u,c]=(0,g.useState)(r??s??0);(0,g.useEffect)(()=>{s!==void 0&&(c(s),h.current&&(h.current.value=s.toString()))},[s]);const f=(0,g.useId)(),p=a.id??f,m=a.step?Number(a.step):1,h=(0,g.useRef)(null);let y;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`
.number-wrapper {
	position: relative;
	height: 32px;
}

.custom-number-input {
	height: 100%;
	width: 100%;
	-moz-appearance: textfield;
}
.custom-number-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  display: none;
}

.number-buttons {
	display: flex;
	gap: 2px;
	height: calc(100% - 8px);
	padding-block: 1px;
	padding-inline: 2px;
	position: absolute;
	right: 2px;
	top: 3px;
}

.number-button {
	border-radius: 2px;
	border: none;
	padding: 0;
	height: 1.5rem;
	width: 1.5rem;
	flex-basis: 1.5rem;
	display: grid;
	place-content: center;
}

.number-button.inactive {
	background-color: #d9dced;
	color: #6e7591;
}

.number-button.active {
	background-color: #007db8;
	color: #fff;
}

.number-button svg {
	width: 1rem;
	height: 1rem;
}	
`}}),(0,d.jsxs)("div",{className:"number-wrapper",children:[(0,d.jsx)("input",{ref:h,id:p,type:"number",inputMode:"numeric",defaultValue:u,onInput:x=>{const b=x.currentTarget.value;isNaN(Number(b))||c(Number(b))},onChange:x=>{i&&(clearTimeout(y),y=setTimeout(()=>{i(Number(x.target.value))},100))},onBlur:x=>{i&&(clearTimeout(y),y=setTimeout(()=>{i(Number(x.target.value))},100))},onWheel:x=>x.currentTarget.blur(),...a,className:"custom-number-input"}),(0,d.jsxs)("div",{className:"number-buttons",children:[(0,d.jsx)(_n,{content:(0,d.jsxs)(d.Fragment,{children:["Click to increase by ",m,".",(0,d.jsx)("br",{}),t?(0,d.jsxs)(d.Fragment,{children:["Shift click to increase by 10.",(0,d.jsx)("br",{})]}):null,n?(0,d.jsxs)(d.Fragment,{children:["Alt click to increase by 0.1.",(0,d.jsx)("br",{})]}):null,o&&["Windows","MacOS"].includes(Ee())?(0,d.jsxs)(d.Fragment,{children:[Ee()==="Windows"?"Control":"Command"," ","click to increase by 100.",(0,d.jsx)("br",{})]}):null]}),children:(0,d.jsx)("button",{type:"button","aria-controls":p,disabled:u>=Number(a.max),onClick:x=>{const b=Number(u);if(!isNaN(Number(u))){let w=m;t&&x.shiftKey&&(w=10),n&&x.altKey&&(w=.1),o&&(x.ctrlKey||x.metaKey)&&(w=100);let v=b+1*w;a.min&&v<Number(a.min)&&(v=Number(a.min)),a.max&&v>Number(a.max)&&(v=Number(a.max)),c(v),h.current&&(h.current.value=v.toString()),i&&(clearTimeout(y),y=setTimeout(()=>{i(Number(v))},100))}},className:`number-button ${u>=Number(a.max)?"inactive":"active"}`,children:(0,d.jsx)(Oe,{iconName:"plus","aria-label":"Increase number"})})}),(0,d.jsx)(_n,{content:(0,d.jsxs)(d.Fragment,{children:["Click to decrease by ",m,".",(0,d.jsx)("br",{}),t?(0,d.jsxs)(d.Fragment,{children:["Shift click to decrease by 10.",(0,d.jsx)("br",{})]}):null,n?(0,d.jsxs)(d.Fragment,{children:["Alt click to decrease by 0.1.",(0,d.jsx)("br",{})]}):null,o&&["Windows","MacOS"].includes(Ee())?(0,d.jsxs)(d.Fragment,{children:[Ee()==="Windows"?"Control":"Command"," ","click to decrease by 100.",(0,d.jsx)("br",{})]}):null]}),side:"bottom",children:(0,d.jsx)("button",{type:"button","aria-controls":p,disabled:u<=Number(a.min),className:`number-button ${u<=Number(a.min)?"inactive":"active"}`,onClick:x=>{const b=Number(u);if(!isNaN(Number(u))){let w=m;t&&x.shiftKey&&(w=10),n&&x.altKey&&(w=.1),o&&(x.ctrlKey||x.metaKey)&&(w=100);let v=b-1*w;a.min&&v<Number(a.min)&&(v=Number(a.min)),a.max&&v>Number(a.max)&&(v=Number(a.max)),c(v),h.current&&(h.current.value=v.toString()),i&&(clearTimeout(y),y=setTimeout(()=>{i(Number(v))},100))}},children:(0,d.jsx)(Oe,{iconName:"minus","aria-label":"Decrease number"})})})]})]})]})}),Ts={align:!0,layout:{default:{type:"default"},allowSwitching:!0,allowEditing:!0,allowInheriting:!0,allowSizingOnChildren:!0,allowVerticalAlignment:!0,allowJustification:!0,allowOrientation:!0,allowCustomContentAndWideSize:!0},color:!0,spacing:{margin:!0,padding:!0,blockGap:!0},typography:{fontSize:!0,lineHeight:!0}},we=window.wp.primitives,Ps=(0,d.jsx)(we.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(we.Path,{d:"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z"})}),js=(0,d.jsx)(we.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(we.Path,{d:"M8.001 3.984V9.47c0 1.518-.98 2.5-2.499 2.5h-.5v-1.5h.5c.69 0 1-.31 1-1V6.984H4v-3h4.001ZM4 20h9v-1.5H4V20Zm16-4H4v-1.5h16V16ZM13.001 3.984V9.47c0 1.518-.98 2.5-2.499 2.5h-.5v-1.5h.5c.69 0 1-.31 1-1V6.984H9v-3h4.001Z"})}),Os=(0,d.jsx)(we.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(we.Path,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"})}),Sn=[{name:"title-only",title:"Title only",innerBlocks:[["core/post-title"]],isDefault:!1,icon:Ps,scope:["block"]},{name:"title-and-excerpt",title:"Title and excerpt",innerBlocks:[["core/post-title"],["core/post-excerpt"]],isDefault:!1,icon:js,scope:["block"]},{name:"simple-card",title:"Simple card",innerBlocks:[["core/post-featured-image"],["core/post-title"],["core/post-excerpt"]],isDefault:!1,icon:Os,scope:["block"]}],{include:Ai,include_slugs:Ei,relevance:Ri,parent:Ni,...As}=Fn;function Cn({clientId:e,attributes:t,setAttributes:n,context:o}){const{selectedPosts:r,selectedPostTypesManualSelectSearch:s,selectedPostTypesAutoPostsQuery:i,searchInputManualSelectSearch:a,taxonomyAndTermInfoManualSelectSearch:l,orderManualSelectSearch:u,searchInputAutoPostsQuery:c,taxonomyAndTermInfoAutoPostsQuery:f,orderAutoPostsQuery:p,postsToShow:m,shouldFillRemainingSpots:h,shouldInheritFromAutoPostsQuery:y,layout:x,shouldExcludeCurrentPost:b,hasDismissedVariationsSelector:w}=t;let v;(0,g.useEffect)(()=>{x?.type==="grid"&&x.minimumColumnWidth===void 0&&x.columnCount===void 0&&n({layout:{type:"grid",minimumColumnWidth:"12rem"}})},[x,n]),On({attributes:t,setAttributes:n,type:"ManualSelectSearch"}),On({attributes:t,setAttributes:n,type:"AutoPostsQuery"});function S(_,O){if(_==="add"){if(Array.isArray(O))throw new Error(`You can't pass an array if your type is ${_}`);n({selectedPosts:[...r,{postType:O.postType,id:O.id}]})}if(_==="remove"){if(Array.isArray(O))throw new Error(`You can't pass an array if your type is ${_}`);n({selectedPosts:r.filter(k=>k.id!==O.id)})}if(_==="update_list"){if(!Array.isArray(O))throw new Error(`You must pass an array if your type is ${_}`);n({selectedPosts:O})}}const C=Vn(e),P=(0,A.useBlockProps)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(A.InspectorControls,{children:[(0,d.jsx)(E.Panel,{children:(0,d.jsxs)(E.PanelBody,{title:"Output",children:[(0,d.jsx)(E.BaseControl,{__nextHasNoMarginBottom:!0,id:"posts-to-show-number-input",label:"Posts to show",help:"Select the number of posts to display on the page.",children:(0,d.jsx)(Cs,{min:1,defaultValue:m,onValidation:_=>{clearTimeout(v),v=setTimeout(()=>{n({postsToShow:_})},250)},required:!0,allowAltClick:!1})}),(0,d.jsx)(E.ToggleControl,{__nextHasNoMarginBottom:!0,checked:h,label:"Fill remaining slots automatically",onChange:_=>{n({shouldFillRemainingSpots:_})}})]})}),(0,d.jsx)(E.Panel,{children:(0,d.jsxs)(E.PanelBody,{title:"Select posts",children:[h?(0,d.jsx)(E.ToggleControl,{__nextHasNoMarginBottom:!0,checked:y,label:"Use same query as the Query section",onChange:_=>{n({shouldInheritFromAutoPostsQuery:_})}}):null,!h||!y?(0,d.jsx)(Pn,{attributes:t,setAttributes:n,type:"ManualSelectSearch"}):null,(0,d.jsx)(E.BaseControl,{__nextHasNoMarginBottom:!0,id:(0,yt.useInstanceId)(E.BaseControl,"custom-multiple-select-list-id-"),label:"Search results",children:(0,d.jsx)(g.Suspense,{fallback:(0,d.jsx)("p",{children:"Loading..."}),children:h&&y?(0,d.jsx)(jn,{searchInput:c,taxonomyAndTermInfo:f,selectedPostTypes:i,selectedPosts:r,updateSelectedPosts:S,order:p}):(0,d.jsx)(jn,{searchInput:a,taxonomyAndTermInfo:l,selectedPostTypes:s,selectedPosts:r,updateSelectedPosts:S,order:u})})}),(0,d.jsx)(E.BaseControl,{__nextHasNoMarginBottom:!0,id:(0,yt.useInstanceId)(E.BaseControl,"draggable-list-id-"),label:"Selected posts",help:r.length>0?"You can drag and drop the posts above to change the order that they appear in.":"Use the filters above to select the posts you would like to show in this block.",children:(0,d.jsx)(g.Suspense,{fallback:"Loading...",children:(0,d.jsx)(Es,{attributes:t,updateSelectedPosts:S})})})]})}),h?(0,d.jsx)(E.Panel,{children:(0,d.jsxs)(E.PanelBody,{title:"Query",children:[(0,d.jsx)(E.ToggleControl,{__nextHasNoMarginBottom:!0,checked:b,label:"Exclude current post from query",onChange:_=>{n({shouldExcludeCurrentPost:_})}}),(0,d.jsx)(Pn,{attributes:t,setAttributes:n,type:"AutoPostsQuery"})]})}):null]}),C||w?(0,d.jsx)(g.Suspense,{fallback:"Loading...",children:(0,d.jsx)(Ds,{clientId:e,attributes:t,context:o})}):(0,d.jsx)("div",{...P,children:(0,d.jsx)(Un,{clientId:e,blockInfo:{name:Ye().title,icon:(0,d.jsx)(Oe,{isEditorMode:!0,iconName:"manual-post-select"})},variations:Sn,allowSkip:!0})})]})}Cn.displayName="ManualPostSelectEdit";function Es({attributes:e,updateSelectedPosts:t}){const{selectedPosts:n}=e,{filteredPostTypes:o}=pe(),r=(0,Y.useSuspenseSelect)(s=>{const i=[];for(const a of n){const l=s(ee.store).getEntityRecord("postType",a.postType,a.id);l!==void 0&&i.push(l)}return i},[n]);return(0,d.jsx)(ks,{list:n.map(s=>({...s,title:r.find(i=>i.id===Number(s.id))?.title.rendered??"",icon:o?.find(i=>i.slug===s.postType)?.icon??void 0})),updateListCallback:t})}function Tn({status:e="publish",postTypes:t,postCountToRetrieve:n,exclude:o,search:r,order:s,taxonomyAndTermInfo:i}){const{filteredPostTypes:a}=pe();t=t.includes("any")?(a??[]).map(m=>m.slug):t;const l=(0,g.useMemo)(()=>({context:"view",status:e,per_page:n,exclude:o,search:r||void 0,orderby:r?"relevance":s.by,order:r?"asc":s.direction,tax_relation:i.relationship,...Object.values(i.taxonomies).reduce((m,h)=>{const{operator:y,restBase:x,terms:b}=h;return m[x]={operator:y,terms:b.map(w=>w.id)},m},{})}),[o,s.by,s.direction,n,r,e,i.relationship,i.taxonomies]),u=(0,g.useMemo)(()=>({}),[]),c=(0,Y.useSuspenseSelect)(m=>{for(const y in u)delete u[y];if(n===0)return u;const h=m(ee.store).getUsers({context:"view",who:"authors",has_published_posts:!0});for(const y of t){const x=m(ee.store).getEntityRecords("postType",y,l)?.map(b=>({id:b.id,title:b.title,date:b.date,date_gmt:b.date_gmt,link:b.link,modified:b.modified,modified_gmt:b.modified_gmt,slug:b.slug,status:b.status,type:b.type,author:b.author,authorName:h.find(w=>w.id===b.author)?.name??"Unknown"}));x&&(u[y]=x)}return u},[n,t,l,u]),f=Object.values(c).flat();return(0,g.useMemo)(()=>{const m=f.sort((h,y)=>{switch(s.by){case"author":return h.author-y.author;case"title":{const x=h.title.rendered.toUpperCase(),b=y.title.rendered.toUpperCase();return x<b?-1:x>b?1:0}case"slug":{const x=h.slug.toUpperCase(),b=y.slug.toUpperCase();return x<b?-1:x>b?1:0}case"id":return h.id-y.id;case"date":{if(h.date_gmt===null||y.date_gmt===null)throw new Error("Error getting the published date.");const x=ne.parseString(h.date_gmt,"ISO-8601").getTime(),b=ne.parseString(y.date_gmt,"ISO-8601").getTime();return x<b?-1:x>b?1:0}case"modified":{if(h.modified_gmt===null||y.modified_gmt===null)throw new Error("Error getting the published date.");const x=ne.parseString(h.modified_gmt,"ISO-8601").getTime(),b=ne.parseString(y.modified_gmt,"ISO-8601").getTime();return x<b?-1:x>b?1:0}default:throw new Error(`Order by value not supported. Value: ${s.by}`)}});return s.direction==="asc"?m:m.reverse()},[s.by,s.direction,f])}function Pn({attributes:e,setAttributes:t,type:n}){let o;const{filteredPostTypes:r}=pe(),{[`selectedPostTypes${n}`]:s,[`searchInput${n}`]:i,[`order${n}`]:a}=e;return(0,d.jsxs)(d.Fragment,{children:[r!==void 0?(0,d.jsx)(E.BaseControl,{__nextHasNoMarginBottom:!0,label:"Post Type",id:`custom-multiple-select-list-post-types-${n==="ManualSelectSearch"?"manual-select-search":"auto-posts-query"}`,children:(0,d.jsx)(ht,{list:[{id:"any",title:"Show all",isSelected:s.includes("any"),icon:"dashicons-image-filter"},...r.map(l=>({id:l.slug,title:l.name,isSelected:s.includes(l.slug),icon:l.icon}))],renderItem:({listItem:l,buttonProps:u})=>(0,d.jsxs)("button",{...u,onClick:c=>{c.preventDefault(),l.id==="any"?t({[`selectedPostTypes${n}`]:["any"]}):s.includes(l.id)?s.filter(p=>p!==l.id).length===0?t({[`selectedPostTypes${n}`]:["any"]}):t({[`selectedPostTypes${n}`]:s.filter(p=>p!==l.id)}):t({[`selectedPostTypes${n}`]:[...s,l.id].filter(f=>f!=="any")})},children:[(0,d.jsx)(Ae,{iconString:l.icon}),(0,d.jsx)("span",{className:"custom-multiple-select-list-item-label",children:l.title}),l.isSelected?(0,d.jsx)("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"presentation",children:(0,d.jsx)("path",{d:"M1 5L5 9L13 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}):null]},l.id)})}):null,(0,d.jsx)(Rs,{attributes:e,setAttributes:t,type:n}),(0,d.jsx)(E.SearchControl,{__nextHasNoMarginBottom:!0,label:"Search",hideLabelFromVision:!1,help:"Type your search term in the box above",value:i,onChange:l=>{clearTimeout(o),o=setTimeout(()=>{t({[`searchInput${n}`]:l})},250)}}),(0,d.jsxs)(E.BaseControl,{__nextHasNoMarginBottom:!0,id:`order-select-${n==="ManualSelectSearch"?"manual-select-search":"auto-posts-query"}`,label:`Order ${n==="ManualSelectSearch"?"of search results":"of posts"}`,children:[(0,d.jsxs)("p",{style:{fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)"},children:["Set the order that the"," ",n==="ManualSelectSearch"?"search results box below":"queried posts"," ","will appear in."]}),i?(0,d.jsx)("p",{children:"When you've defined a search term, the order is always by relevance from Most relevant -> least relevant"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(E.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Order by",value:a.by,options:Object.entries(As).map(([l,u])=>({value:l,label:u})),onChange:l=>{t({[`order${n}`]:{...a,by:l}})}}),(0,d.jsx)("div",{style:{marginTop:"-1rem"},children:(0,d.jsx)(E.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Direction",multiple:!1,value:a.direction,options:[{label:["title","slug"].includes(a.by)?"A -> Z":["date","modified"].includes(a.by)?"Oldest -> Newest":["id","parent","author"].includes(a.by)?"0,1,2,3...":"Ascending",value:"asc"},{label:["title","slug"].includes(a.by)?"Z -> A":["date","modified"].includes(a.by)?"Newest -> Oldest":["id","parent","author"].includes(a.by)?"3,2,1,0...":"Descending",value:"desc"}],onChange:l=>{t({[`order${n}`]:{...a,direction:l}})}})})]})]})]})}function Rs({attributes:e,setAttributes:t,type:n}){const{[`selectedPostTypes${n}`]:o,[`taxonomyAndTermInfo${n}`]:r}=e,{mappedTaxonomies:s}=pe();if(s===void 0||o===void 0)return null;const i=(o[0]==="any"?Object.keys(s):o).length-1;let a=Object.entries(s).reduce((c,[f,p])=>(o.includes(f)&&c.push(p),c),[]).flat();for(let c=0;c<i;c++)a=a.filter((f,p)=>a.indexOf(f)!==p);const l=a.filter(c=>c!==void 0).filter(c=>!!(c.terms&&c.terms.length>0)),u=l.filter(c=>Object.entries(r.taxonomies).filter(([,f])=>f.terms.length>0).findIndex(([f])=>f===c.slug)!==-1).map(c=>c.name);return(0,d.jsx)(d.Fragment,{children:l&&l.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(E.ToggleControl,{__nextHasNoMarginBottom:!0,style:{marginTop:"0.5rem"},checked:r.relationship==="AND",label:"Only show posts that match all taxonomy conditions",help:u.length===0?"Currently selected options mean you're showing all posts.":u.length===1?`Currently selected options mean you're showing all posts that pass the ${u[0]} filter.`:`Currently selected options mean you're showing all posts that pass ${r.relationship==="OR"?"either":"both"} the ${u.join(` ${r.relationship} `)} filter${r.relationship==="OR"?"":"s"}.`,onChange:c=>{t({[`taxonomyAndTermInfo${n}`]:{relationship:c?"AND":"OR",taxonomies:r.taxonomies}})}}),l.map(c=>{const f=r.taxonomies[c.slug],p=f?.terms??[],m=c.terms.filter(h=>p.findIndex(y=>y.id===h.id)!==-1).map(h=>h.name);return(0,d.jsx)("fieldset",{children:(0,d.jsxs)(E.Flex,{direction:"column",gap:"0.5rem",children:[(0,d.jsx)(E.FlexItem,{children:(0,d.jsx)(E.FormTokenField,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,__experimentalExpandOnFocus:!0,label:c.name,suggestions:c.terms.map(h=>h.id.toString()),displayTransform:h=>c.terms?.find(y=>y.id.toString()===h)?.name??"Unknown",value:p.map(h=>({value:h.id.toString(),label:c.terms?.find(y=>y.id===h.id)?.name})),onChange:h=>{t({[`taxonomyAndTermInfo${n}`]:{...r,taxonomies:{...r.taxonomies,[c.slug]:{operator:r.taxonomies[c.slug]?.operator??"AND",restBase:c.rest_base,terms:h.map(y=>{let x;return typeof y=="string"?x=c.terms?.find(b=>b.id.toString()===y):x=c.terms?.find(b=>b.id.toString()===y.value),x?{id:x.id,slug:x.slug}:(console.error(`Didn't find the term associated with the value ${typeof y=="string"?y:y.title??y.value}`),null)}).filter(y=>!!y)}}}})}})}),(0,d.jsx)(E.FlexItem,{children:(0,d.jsx)(E.ToggleControl,{__nextHasNoMarginBottom:!0,style:{marginTop:"0.5rem"},checked:f?.operator!=="OR",label:`Only show posts with ${c.name} attached`,help:m.length===0?`Currently selected options mean posts are not being filtered by ${c.name}.`:m.length===1?`Currently selected options mean you're showing all posts with the ${m[0]} ${c.labels.singular_name}.`:`Currently selected options mean you're showing all posts with ${f?.operator==="OR"?"either":"both"} the ${m.join(` ${f?.operator??"AND"} `)} ${f?.operator==="OR"?c.labels.singular_name:c.name}.`,onChange:h=>{t({[`taxonomyAndTermInfo${n}`]:{...r,taxonomies:{...r.taxonomies,[c.slug]:{restBase:c.rest_base,operator:h?"AND":"OR",terms:r.taxonomies[c.slug]?.terms??[]}}}})}})}),(0,d.jsx)(E.FlexItem,{children:(0,d.jsx)("hr",{style:{marginTop:0}})})]})},c.slug)})]}):null})}function Ns({onClick:e,onKeyDown:t,blocks:n}){const o=(0,A.__experimentalUseBlockPreview)({blocks:n,props:{}});return(0,d.jsx)("div",{role:"button",onClick:e,onKeyDown:t,tabIndex:0,...o})}function Ds({clientId:e,attributes:t,context:n}){const{selectedPosts:o,selectedPostTypesAutoPostsQuery:r,searchInputAutoPostsQuery:s,taxonomyAndTermInfoAutoPostsQuery:i,orderAutoPostsQuery:a,layout:l,style:u,postsToShow:c,shouldFillRemainingSpots:f,shouldExcludeCurrentPost:p}=t,{className:m,style:h}=Mn(l,Ts,u),y=(0,A.useBlockProps)({className:m,style:h}),x=(0,Y.useSuspenseSelect)(T=>{const N=[];for(const L of o){const D=T(ee.store).getEntityRecord("postType",L.postType,L.id);D!==void 0&&N.push(D)}return N},[o]),b=Tn({postTypes:r,postCountToRetrieve:c-x.length,exclude:[...x.map(T=>T.id),...p?[n.postId]:[]],search:s,order:a,taxonomyAndTermInfo:i}),w=[...x,...f?b:[]].slice(0,c),{children:v,...S}=(0,A.useInnerBlocksProps)({},{__unstableDisableLayoutClassNames:!0}),[C,P]=(0,g.useState)(),{blocks:_}=(0,Y.useSelect)(T=>{const{getBlocks:N}=T(A.store);return{blocks:N(e)}},[e]),O=w.length>1,k=O?"ul":"div";return(0,d.jsx)(k,{...y,children:w.length>0?w.map(T=>(0,d.jsxs)(A.BlockContextProvider,{value:{postId:T.id,postType:T.type},children:[T.id===(C??w[0]?.id)?O?(0,d.jsx)("li",{...S,children:v}):(0,d.jsx)("div",{...S,children:v}):null,O?(0,d.jsx)("li",{style:{display:T.id===(C??w[0]?.id)?"none":void 0},children:(0,d.jsx)(Ns,{onClick:()=>{P(T.id)},onKeyDown:()=>{},blocks:_})}):null]},T.id)):(0,d.jsx)("div",{children:"Use the sidebar to select the posts you want to show."})})}function jn({searchInput:e,taxonomyAndTermInfo:t,selectedPostTypes:n,selectedPosts:o,updateSelectedPosts:r,order:s}){const{filteredPostTypes:i}=pe(),a=Tn({postTypes:n,postCountToRetrieve:-1,search:e,order:s,taxonomyAndTermInfo:t});return a.length===0?(0,d.jsx)("p",{children:"No results found."}):(0,d.jsx)(ht,{list:a.map(l=>({post:l,id:`${l.id}`,title:l.title.rendered,postType:l.type,icon:i?.find(u=>u.slug===l.type)?.icon,itemLabel:i?.find(u=>u.slug===l.type)?.labels.singular_name??void 0,isSelected:!!o.find(u=>`${l.id}`===u.id)}))??[],renderItem:({listItem:l,buttonProps:u})=>l.isSelected?null:(0,g.createElement)("button",{...u,key:l.id,onClick:()=>{r("add",l)}},(0,d.jsx)(Ae,{iconString:l.icon}),(0,d.jsx)("span",{className:"custom-multiple-select-list-item-label",dangerouslySetInnerHTML:{__html:`${l.title===""?"(no title)":l.title}${s.by==="title"?"":s.by==="author"?` - ${l.post.authorName}`:s.by==="date"?` - ${ne.parseString(l.post.date??"1970-01-01T00:00:00","ISO-8601").format("jS F Y H:i:s")}`:s.by==="modified"?` - ${ne.parseString(l.post.modified??"1970-01-01T00:00:00","ISO-8601").format("jS F Y H:i:s")}`:` - ${l.post[s.by]}`}`}}))})}function On({attributes:e,setAttributes:t,type:n}){const{mappedTaxonomies:o}=pe(),{[`selectedPostTypes${n}`]:r,[`taxonomyAndTermInfo${n}`]:s}=e;(0,g.useEffect)(()=>{if(!o)return;const i={...s.taxonomies};Object.keys(s.taxonomies).forEach(a=>{r.some(l=>o[l]?.find(u=>u.slug===a)===void 0)&&delete i[a]}),Object.keys(s.taxonomies).length>Object.keys(i).length&&t({[`taxonomyAndTermInfo${n}`]:{relationship:s.relationship,taxonomies:i}})},[r,o,s,t,n])}function An(e){return!(e.listItemBeingDragged===null||e.draggedItemOriginalPosition===null)}function ks({list:e,updateListCallback:t,containerClassName:n,itemClassName:o,...r}){(0,g.useEffect)(()=>{a({type:"update_list_from_props",newList:e})},[e]);function s(l,u){const c=l;let f;switch(u.type){case"start_being_dragged":{f={listItemBeingDragged:u.itemId,draggedItemOriginalPosition:u.itemIndex,draggedItemFalseOrder:u.itemIndex+1,list:c.list};break}case"temporarily_rearrange_items":{if(!An(c)){f=c;break}f={listItemBeingDragged:c.listItemBeingDragged,draggedItemOriginalPosition:c.draggedItemOriginalPosition,draggedItemFalseOrder:u.newOrder,list:c.list};break}case"end_being_dragged":{if(u.falseOrder===null)return c;const p=[];p[0]=null,c.list.forEach(x=>{p.push(x),p.push(null)});const m=c.list.find(x=>x.id===c.listItemBeingDragged);if(!m)throw new Error("Failed to find moved item in list.");const h=p.indexOf(m);p[u.falseOrder+1]=m,h!==u.falseOrder+1&&(p[h]=null);const y=p.filter(x=>x!==null);f={listItemBeingDragged:null,draggedItemOriginalPosition:null,draggedItemFalseOrder:null,list:c.list},u.updateListCallback("update_list",y);break}case"remove_from_list":{f=c;const p=c.list.find(m=>m.id===u.itemId);if(!p)break;u.updateListCallback("remove",p);break}case"update_list_from_props":{f={...c,list:u.newList};break}}return f}const[i,a]=(0,g.useReducer)(s,{listItemBeingDragged:null,draggedItemOriginalPosition:null,draggedItemFalseOrder:null,list:e});return(0,d.jsx)("div",{...r,className:`draggable-list${An(i)?" is-dragging":""}${n!==void 0&&n!==""?` ${n}`:""}`,children:i.list.map((l,u)=>(0,d.jsxs)("div",{className:`draggable-list-item${i.listItemBeingDragged===l.id?" being-dragged":""}${typeof o=="string"?` ${o}`:""}`,style:{order:i.listItemBeingDragged===l.id?i.draggedItemFalseOrder??u*2:u*2},children:[(0,d.jsx)("div",{className:"drag-zone-top",onDragOver:c=>{c.preventDefault(),i.listItemBeingDragged!==l.id&&a({type:"temporarily_rearrange_items",newOrder:u*2-1})}}),(0,d.jsx)("div",{className:"drag-handle",onDragStart:()=>setTimeout(()=>{a({type:"start_being_dragged",itemId:l.id,itemIndex:u})},10),onDragEnd:()=>a({type:"end_being_dragged",falseOrder:i.draggedItemFalseOrder,updateListCallback:t}),draggable:!0,children:(0,d.jsxs)("svg",{width:"9",height:"21",viewBox:"0 0 9 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("circle",{cx:"1.5",cy:"1.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"7.5",cy:"1.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"1.5",cy:"7.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"7.5",cy:"7.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"1.5",cy:"13.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"7.5",cy:"13.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"1.5",cy:"19.5",r:"1.5",fill:"currentColor"}),(0,d.jsx)("circle",{cx:"7.5",cy:"19.5",r:"1.5",fill:"currentColor"})]})}),(0,d.jsxs)("div",{className:"draggable-list-item-content",children:[(0,d.jsx)(Ae,{iconString:l.icon}),(0,d.jsx)("span",{className:"draggable-list-item-text",dangerouslySetInnerHTML:{__html:l.title===""?"(no title)":l.title}}),(0,d.jsx)("button",{className:"remove-button",onClick:()=>{a({type:"remove_from_list",itemId:l.id,updateListCallback:t})},children:(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fill:"currentColor",d:`M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M11,10.3c0.2,0.2,0.2,0.5,0,0.7s-0.5,0.2-0.7,0L8,8.7
		L5.7,11c-0.2,0.2-0.5,0.2-0.7,0s-0.2-0.5,0-0.7L7.3,8L5,5.7C4.8,5.5,4.8,5.2,5,5c0.2-0.2,0.5-0.2,0.7,0L8,7.3L10.3,5
		c0.2-0.2,0.5-0.2,0.7,0s0.2,0.5,0,0.7L8.7,8L11,10.3z`})})})]}),(0,d.jsx)("div",{className:"drag-zone-bottom",onDragOver:c=>{c.preventDefault(),i.listItemBeingDragged!==l.id&&a({type:"temporarily_rearrange_items",newOrder:u*2+1})}})]},l.id))})}function Ms({hasInnerBlocks:e}){return e?Ls:Is}function Is(){return null}function Ls(){return(0,d.jsx)(A.InnerBlocks.Content,{})}(0,B.registerBlockType)(Ye().name,{icon:(0,d.jsx)(Oe,{iconName:"manual-post-select"}),edit:Cn,save:Ms({hasInnerBlocks:!0})}),kn(),Sn.forEach(e=>{(0,B.registerBlockVariation)(Ye().name,e)})})(),je})());

(function(d,c){if(typeof exports=="object"&&typeof module=="object")module.exports=c();else if(typeof define=="function"&&define.amd)define([],c);else{var l=c();for(var a in l)(typeof exports=="object"?exports:d)[a]=l[a]}})(globalThis,()=>(()=>{"use strict";var s={};s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var d={};const c=window.wp.domReady;var l=s.n(c);function a(e){if(e===void 0)throw new Error(`Pixel value ${e} is undefined`);if(!e.endsWith("px"))throw new Error(`Pixel value ${e} is not a pixel value`);if(e.includes(" "))throw new Error(`Pixel value ${e} contains multiple values`);return Number(e.replace("px",""))}function b(e){let t="";const i=document.createElement("div");return i.innerHTML=e,t=i.innerText,h(t)}function h(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|(?<!-)-+$/g,"")}function u(e,t=()=>!0){const i=e.parentElement;return i===null?null:t(i)?i:u(i,t)}function g(e){if(new RegExp("ms$","ig").test(e))return Number(e.substring(0,e.length-2));if(new RegExp("s$","ig").test(e))return Number(e.substring(0,e.length-1))*1e3;throw new Error("Time didn't end with ms or s so was not correctly parsed.")}function y(){if(typeof document>"u")return"unknown";const e=window.navigator.userAgent;let t="unknown";return e.search("Windows")!==-1?t="Windows":e.search("Mac")!==-1?t="MacOS":e.search("X11")!==-1&&e.search("Linux")===-1?t="UNIX":e.search("Linux")!==-1&&e.search("X11")!==-1&&(t="Linux"),t}function f(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Object.entries(e[i]).every(([o,r])=>Array.isArray(r)?f(r,t[i]?.[o]):t[i]?.[o]===r))return!1;return!0}class A{id;accordionGroup;allowMultipleOpenAccordions;childAccordions=[];scrollParent;constructor(t){this.accordionGroup=t;const i=t.id;if(i===void 0||i==="")throw new Error("Failed to get ID of accordion.");this.id=i,this.allowMultipleOpenAccordions=t.dataset.isMultiple==="true",this.initialiseAccordions(),this.scrollParent=u(this.accordionGroup,n=>n.scrollHeight>n.clientHeight)??document.body}getId(){return this.id}closeAllAccordions(){for(const t of this.childAccordions)t.close()}initialiseAccordions(){const t=document.querySelectorAll(`[id='${this.accordionGroup.id}'] > [data-launchpad-accordion]`);let i=!0;for(const n of t){const o=n.dataset.isInitiallyOpen==="true";let r;this.allowMultipleOpenAccordions?r=o:i&&o?(r=!0,i=!1):r=!1;const p=new m(n,this);r||p.close(),this.childAccordions.push(p)}}}class m{id;state;accordionGroup;trigger;panel;closeTimeout=null;constructor(t,i){const n=t.id;if(n===void 0||n==="")throw new Error("Failed to get ID of accordion.");this.id=n,this.state="open";const o=document.getElementById(`${n}-trigger`);if(!o)throw new Error("Unable to determine the accordions trigger button.");this.trigger=o;const r=document.getElementById(`${n}-panel`);if(!r)throw new Error("Unable to determine the accordions content panel.");this.panel=r,this.accordionGroup=i,this.trigger.addEventListener("click",()=>{this.toggle()}),this.panel.style.height=getComputedStyle(this.panel).getPropertyValue("height")}getId(){return this.id}getState(){return this.state}open(){if(!this.accordionGroup.allowMultipleOpenAccordions){const t=this.accordionGroup.childAccordions.findIndex(o=>o===this),i=this.accordionGroup.childAccordions.findIndex(o=>o.state==="open");if(t>i&&i!==-1){let o;try{o=a(document.querySelector('.accordion-panel[data-state="open"]')?.style.height)}catch{o=0}const r=-1*o;this.accordionGroup.childAccordions[i].close({instant:!0}),this.accordionGroup.scrollParent.scrollBy({top:r,behavior:"instant"})}else this.accordionGroup.closeAllAccordions();this.closeTimeout&&clearTimeout(this.closeTimeout)}this.panel.style.display="",setTimeout(()=>{this.state="open",this.panel.removeAttribute("aria-hidden"),this.panel.setAttribute("data-state","open"),this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("data-state","open")},1)}close({instant:t}={instant:!1}){if(t)this.panel.style.display="none",this.state="collapsed",this.panel.setAttribute("aria-hidden","true"),this.panel.setAttribute("data-state","collapsed"),this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("data-state","collapsed");else{const i=g(getComputedStyle(this.panel).getPropertyValue("--launchpad-accordion-open-close-timing"));this.state="collapsed",this.panel.setAttribute("aria-hidden","true"),this.panel.setAttribute("data-state","collapsed"),this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("data-state","collapsed"),this.closeTimeout=setTimeout(()=>{this.panel.style.display="none"},i)}}toggle(){this.state==="open"?this.close():this.open()}debug(){console.log({id:this.id,state:this.state,groupId:this.accordionGroup.getId(),isInitiallyOpen:this.panel.parentElement?.dataset.isInitiallyOpen==="true"})}}function w(){const e=document.querySelectorAll("[data-launchpad-accordion-group]");for(const t of e)new A(t)}return l()(()=>{w()}),d})());
